(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{196:function(e,a,t){e.exports=t(301)},202:function(e,a,t){},301:function(e,a,t){"use strict";t.r(a);var n=t(132),r=t.n(n),l=t(163),i=t(0),o=t.n(i),c=t(53),s=t.n(c),u=(t(202),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function m(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");u?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):d(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):d(a,e)}))}}function d(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var g=t(8),E=t(48),p=t(15),f=t(18),h=t(25),b=t(32),v=t.n(b);function y(){var e=Object(h.a)(["\n    query fetchCategories($apikey: String!) {\n      categories(apikey: $apikey) {\n        name\n        id\n      }\n      subcategories(apikey: $apikey) {\n        name\n        id\n        parent\n      }\n      types(apikey: $apikey) {\n        name\n        id\n      }\n      account(apikey: $apikey) {\n        name\n        organizations {\n          id\n          name\n        }\n      }\n    }\n  "]);return y=function(){return e},e}function k(){var e=Object(h.a)(["\n    query fetchAccount($apikey: String!) {\n      account(apikey: $apikey) {\n        id\n        first_name\n        last_name\n        apikey\n        name\n        email\n        is_public\n        image_id\n        organizations {\n          id\n          name\n        }\n      }\n    }\n  "]);return k=function(){return e},e}function S(){var e=Object(h.a)(["\n    query fetchAccounts($apikeys: [String!]) {\n      accounts(apikeys: $apikeys) {\n        id\n        first_name\n        last_name\n        apikey\n        name\n        email\n        is_public\n        image_id\n        organizations {\n          id\n          name\n        }\n      }\n    }\n  "]);return S=function(){return e},e}function w(){var e=Object(h.a)(["\n    query fetchUser($userId: ID!) {\n      user(id: $userId) {\n        id\n        email\n        apikeys\n        jobs {\n          data\n          status\n          schedule\n        }\n      }\n    }\n  "]);return w=function(){return e},e}function O(){var e=Object(h.a)(["\n    query fetchUserId {\n      userId @client\n    }\n  "]);return O=function(){return e},e}function j(){var e=Object(h.a)(["\n    query IsUserLoggedIn {\n      isLoggedIn @client\n    }\n  "]);return j=function(){return e},e}var C={IS_LOGGED_IN:v()(j()),FETCH_USER_ID:v()(O()),FETCH_USER:v()(w()),FETCH_ACCOUNTS:v()(S()),FETCH_ACCOUNT:v()(k()),FETCH_CATEGORIES_AND_SUBCATEGORIES_AND_TYPES:v()(y())},I=C.IS_LOGGED_IN,_=function(e){var a=e.component,t=e.path,n=e.exact,r=e.routeType,l=Object(E.a)(e,["component","path","exact","routeType"]),i=Object(f.c)(I),c=i.data,s=i.error;if(s)return o.a.createElement("p",null,s.message);var u=c.isLoggedIn;return"protected"===r?o.a.createElement(p.b,{path:t,exact:n,render:function(e){return u?o.a.createElement(a,Object.assign({},e,l)):o.a.createElement(p.a,{to:"/login"})}}):o.a.createElement(p.b,{path:t,exact:n,render:function(e){return u?o.a.createElement(p.a,{to:"/"}):o.a.createElement(a,Object.assign({},e,l))}})},x=t(69);function z(){var e=Object(h.a)(["\n    mutation submitForm($id: ID!, $date: String!, $data: String!, $key: String!) {\n      scheduleEvent(id: $id, date: $date, data: $data, key: $key ) {\n        id\n        email\n        apikeys\n        jobs {\n          data\n          status\n          schedule\n        }\n      }\n    }\n  "]);return z=function(){return e},e}function T(){var e=Object(h.a)(["\n    mutation deleteAPIkey($id: ID!, $apikey: String!) {\n      deleteAPIkey(id: $id, apikey: $apikey) {\n        id\n        email\n        apikeys\n        jobs {\n          data\n          status\n          schedule\n        }\n      }\n    }\n  "]);return T=function(){return e},e}function A(){var e=Object(h.a)(["\n    mutation pushAPIkey($id: ID!, $apikey: String!) {\n      pushAPIkey(id: $id, apikey: $apikey) {\n        id\n        email\n        apikeys\n        jobs {\n          data\n          status\n          schedule\n        }\n      }\n    }\n  "]);return A=function(){return e},e}function $(){var e=Object(h.a)(["\n    mutation VerifyUser($token: String!) {\n      verifyUser(token: $token) {\n        id\n        loggedIn\n      }\n    }\n  "]);return $=function(){return e},e}function F(){var e=Object(h.a)(["\n    mutation RegisterUser($email: String!, $password: String!) {\n      register(email: $email, password: $password) {\n        id\n        token\n        loggedIn\n      }\n    }\n  "]);return F=function(){return e},e}function D(){var e=Object(h.a)(["\n    mutation LoginUser($email: String!, $password: String!) {\n      login(email: $email, password: $password) {\n        id\n        token\n        loggedIn\n      }\n    }\n  "]);return D=function(){return e},e}var P={LOGIN_USER:v()(D()),REGISTER_USER:v()(F()),VERIFY_USER:v()($()),PUSH_API_KEY:v()(A()),DELETE_API_KEY:v()(T()),SUBMIT_FORM:v()(z())},q=t(46),L=t(354),R=t(355),U=t(356),M=t(44),K=t(304),N=t(348),V=t(317),G=P.DELETE_API_KEY,H=C.FETCH_ACCOUNT,W=C.FETCH_USER;function Y(e){var a=e.apikey,t=e.id,n=e.userId,r=e.selectedKey,l=e.setSelectedKey,c=Object(i.useState)(!1),s=Object(g.a)(c,2),u=s[0],m=s[1],d=Object(f.b)(G,{onError:function(e){var a=e.message.split(":")[1];console.log(a)},update:function(e,a){var t=a.data.deleteAPIkey,r=e.readQuery({query:W,variables:{userId:n}});e.writeQuery({query:W,variables:{userId:n},data:{user:Object(M.a)({},r.user,{apikeys:t.apikeys})}})}}),E=Object(g.a)(d,1)[0],p=Object(f.c)(H,{variables:{apikey:a}}),h=p.loading,b=p.data,v=p.error;if(v)return o.a.createElement("h3",{style:{color:"red",fontWeight:"bolder"}},v.message.split(":")[1]);if(h)return null;var y=b.account;return o.a.createElement(q.a,{focusIndicator:!1,width:"100vw",key:t,direction:"row",border:a===r?{color:"brand",size:"small"}:{size:"small"},background:{light:"light-2",dark:"dark-1"},as:"button",type:"button",style:{cursor:"pointer"},onClick:function(){return l(a)}},o.a.createElement(q.a,{pad:"xsmall",direction:"column"},o.a.createElement(K.a,{size:"xsmall",truncate:!0},o.a.createElement(K.a,{size:"xsmall",weight:"bold"},"Account Name:")," ",y.name),o.a.createElement(K.a,{size:"xsmall",truncate:!0},o.a.createElement(K.a,{size:"xsmall",weight:"bold"},"Email:")," ",y.email),o.a.createElement(K.a,{size:"xsmall",truncate:!0},o.a.createElement(K.a,{size:"xsmall",weight:"bold"},"API_KEY:")," ",y.apikey)),o.a.createElement("div",{style:{width:"25px",padding:"3px"}},o.a.createElement(V.a,{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},onClick:function(e){e.preventDefault(),E({variables:{id:n,apikey:a}})},color:u?"status-error":"status-disabled"})))}var B=function(e){var a=e.user,t=e.selectedKey,n=e.setSelectedKey;return a.apikeys.length>0?o.a.createElement(N.a,{columns:{count:a.apikeys.length<4?a.apikeys.length:4,size:"xsmall"},margin:"small",gap:"small"},a.apikeys.map((function(e,r){return o.a.createElement(Y,{key:r,apikey:e,userId:a.id,id:r,selectedKey:t,setSelectedKey:n})}))):o.a.createElement(q.a,{width:"100vw"},o.a.createElement(q.a,{margin:"medium"},o.a.createElement(K.a,{pad:"small"},"Please add the secret keys from the accounts you want to post with.")))},Q=t(349),J=function(e){var a=e.required,t=e.label,n=Object(E.a)(e,["required","label"]);return o.a.createElement(Q.a,Object.assign({label:a?o.a.createElement(q.a,{direction:"row"},o.a.createElement(K.a,null,t),o.a.createElement(K.a,{color:"status-critical"},"*")):t,required:a},n))},X=t(321),Z=t(351),ee=t(194),ae=t(345),te=Object(i.createContext)({}),ne=[{name:"San Francisco",id:"32131232"},{name:"New York",id:"32131232"},{name:"Denver",id:"32131242"},{name:"Austin",id:"32131252"},{name:"Seattle",id:"32131262"},{name:"San Antonio",id:"32131272"},{name:"Boston",id:"32131272"},{name:"Washington D.C.",id:"32131272"},{name:"Miami",id:"32131272"},{name:"Atlanta",id:"32131272"},{name:"Cleveland",id:"32131272"}],re=function(e){var a=e.setFieldValue,t=e.values,n=Object(E.a)(e,["setFieldValue","values"]),r=Object(i.useState)(ne),l=Object(g.a)(r,2),c=l[0],s=l[1],u=Object(i.useState)(!1),m=Object(g.a)(u,2),d=m[0],p=m[1],f=Object(i.useState)(""),h=Object(g.a)(f,2),b=h[0],v=h[1],y=Object(i.useRef)();Object(i.useEffect)((function(){var e=ne.filter((function(e){return e.name.toLowerCase().indexOf(b.toLowerCase())>=0}));setTimeout((function(){p(!1),s(e)}),500)}),[d,b]);var k=function(e){var a=e.name;return o.a.createElement(q.a,{direction:"row",align:"center",pad:"small",flex:!1},o.a.createElement(Z.a,{tabIndex:"-1",checked:t.locations.some((function(e){return e.name===a})),label:o.a.createElement(K.a,{size:"small"},a),onChange:function(){}}))};return o.a.createElement(te.Provider,null,o.a.createElement(J,n,o.a.createElement(ae.a,{ref:y,closeOnChange:!1,placeholder:"Select a location",searchPlaceholder:"Search for Location",emptySearchMessage:"No partners found",multiple:!0,value:t.locations.length?o.a.createElement(q.a,{direction:"row",gap:"xsmall",pad:{left:"small",vertical:"small"},align:"center",flex:!0},o.a.createElement(q.a,{background:"brand",round:"medium",align:"center",justify:"center",pad:{horizontal:"xsmall"},style:{minWidth:"21px"}},o.a.createElement(K.a,{size:"small"},t.locations.length)),o.a.createElement(q.a,{flex:!0},o.a.createElement(K.a,{size:"small",truncate:!0},t.locations.map((function(e){return e.name})).join(", "))),o.a.createElement(ee.a,{href:"#",onFocus:function(e){return e.stopPropagation()},onClick:function(e){e.preventDefault(),e.stopPropagation(),a("locations",[]),y.current.focus()}},o.a.createElement(q.a,{background:"accent-4",round:"full"},o.a.createElement(X.a,{style:{width:"12px",height:"12px"}})))):void 0,selected:t.locations.map((function(e){return c.indexOf(e)})),options:c,onChange:function(e){return function(e){var n=Object(x.a)(t.locations),r=n.map((function(e){return e.name})).indexOf(e.name);r>=0?n.splice(r,1):n.push(e);var l=n.map((function(e){return e.name})),i=[].concat(ne).sort(function(e){return function(a,t){var n=e.includes(a.name),r=e.includes(t.name);return!n&&r?1:n&&!r||a.name.toLowerCase()<t.name.toLowerCase()?-1:1}}(l));a("locations",n),s(i)}(e.option)},onSearch:function(e){p(!0),v(e)}},k)))},le=o.a.createElement("svg",{version:"1.1",viewBox:"0 0 32 32",width:"68px",height:"68px",fill:"#f05537"},o.a.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),o.a.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"},o.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"0.8s",repeatCount:"indefinite"}))),ie=function(){return o.a.createElement(q.a,{align:"center",justify:"center"},le)},oe=t(353),ce=function(e){var a=e.label,t=e.required,n=e.error,r=Object(E.a)(e,["label","required","error"]);return o.a.createElement(J,{error:n,label:a,required:t},o.a.createElement(oe.a,Object.assign({mask:[{length:[1,2],regexp:/^1[0,1-2]$|^0?[1-9]$|^0$/,placeholder:"Hour"},{fixed:":"},{length:2,options:["00","15","30","45"],regexp:/^[0-5][0-9]$|^[0-9]$/,placeholder:"Min"},{fixed:" "},{length:2,options:["AM","PM"],regexp:/^[ap]m$|^[AP]M$|^[aApP]$/,placeholder:"AM/PM"}]},r)))},se=t(322),ue=t(350),me=t(323),de=function(e){var a=e.email,t=e.setEmail,n=e.password,r=e.setPassword,l=e.error,c=e.action,s=e.demo,u=Object(i.useRef)(null);return Object(i.useEffect)((function(){if(s)var e=0,a="demo@demo.com123456",n=setInterval((function(){return e<=13?t(a.slice(0,e)):e<a.length&&e>13?r(a.slice(13,e+1)):(u.current.click(),clearInterval(n)),e++,function(){clearInterval(n)}}),100)}),[t,r,s]),o.a.createElement(se.a,{align:"start",onSubmit:function(e){e.preventDefault(),c({variables:{email:a,password:n}})}},o.a.createElement(Q.a,{info:"Email Address"},o.a.createElement(ue.a,{icon:o.a.createElement(me.a,null),value:a,onChange:function(e){return t(e.target.value)},placeholder:"example@example.com"})),o.a.createElement(Q.a,{info:"Password"},o.a.createElement(ue.a,{value:n,onChange:function(e){return r(e.target.value)},type:"password",placeholder:"Password"})),o.a.createElement(q.a,{style:{color:"Red"},align:"center",height:"20px"},o.a.createElement(K.a,{style:{fontStyle:"italic",fontFamily:"Fira Sans"},size:"large"},l)),o.a.createElement(q.a,null,o.a.createElement(ee.a,{ref:u,size:"large",alignSelf:"end",type:"submit",primary:!0,label:"Submit"})))},ge=P.LOGIN_USER,Ee=P.REGISTER_USER,pe=function(e){var a=Object(i.useState)(""),t=Object(g.a)(a,2),n=t[0],r=t[1],l=Object(i.useState)(["brand","plain","plain"]),c=Object(g.a)(l,2),s=c[0],u=c[1],m=o.a.useState(0),d=Object(g.a)(m,2),E=d[0],p=d[1],h=Object(i.useState)(""),b=Object(g.a)(h,2),v=b[0],y=b[1],k=Object(i.useState)(""),S=Object(g.a)(k,2),w=S[0],O=S[1],j=Object(f.b)(ge,{onCompleted:function(a){var t=a.login,n=t.token,r=t.id;localStorage.setItem("auth-token",n),localStorage.setItem("userId",r),e.history.push("/")},onError:function(e){var a=e.message.split(":")[1];O(a)},update:function(e,a){!function(e,a){var t=a.data;e.writeData({data:{isLoggedIn:t.login.loggedIn,userId:t.login.id}})}(e,a)}}),C=Object(g.a)(j,1)[0],I=Object(f.b)(Ee,{onCompleted:function(e){C({variables:{email:n,password:v}})},onError:function(e){var a=e.message.split(":")[1];O(a+"hello")}}),_=Object(g.a)(I,1)[0];return o.a.createElement(q.a,{width:"100vw",height:"100vh",align:"center",justify:"center"},o.a.createElement(L.a,{level:"1",size:"large",color:"brand",style:{userSelect:"none",fontFamily:"Playball"}},"Event Tool"),o.a.createElement(R.a,{activeIndex:E,onActive:function(e){var a=Object(x.a)(s);a[E]="plain",a[e]="brand",u(Object(x.a)(a)),p(e)},pad:"small",width:"70vw"},o.a.createElement(U.a,{title:o.a.createElement(L.a,{color:s[0],level:"3",weight:"bold"},"Login"),pad:"small"},o.a.createElement(de,{email:n,setEmail:r,password:v,setPassword:y,error:w,action:C})),o.a.createElement(U.a,{title:o.a.createElement(L.a,{color:s[1],level:"3",weight:"bold"},"Register")},o.a.createElement(de,{email:n,setEmail:r,password:v,setPassword:y,error:w,action:_})),o.a.createElement(U.a,{title:o.a.createElement(L.a,{color:s[2],level:"3",weight:"bold"},"Demo"),align:"center",pad:"small"},o.a.createElement(de,{email:n,setEmail:r,password:v,setPassword:y,error:w,action:C,demo:!0}))))},fe=t(324),he=t(325),be=t(326),ve=C.IS_LOGGED_IN,ye=function(e){var a=e.responsive,t=e.pending,n=e.setPending,r=(e.mode,e.setMode,Object(f.c)(ve)),l=r.data,i=r.error,c=Object(f.a)();if(i)return o.a.createElement("h3",null,"Error: ",i.message);var s=function(e){e.preventDefault(),localStorage.removeItem("auth-token"),localStorage.removeItem("userId"),c.writeData({data:{isLoggedIn:!1,userId:null}})};return"small"===a?o.a.createElement(fe.a,null,o.a.createElement(he.a,{alignSelf:"center",dropProps:{align:{top:"bottom",left:"left"}},icon:o.a.createElement(be.a,null),pad:"small",items:l.isLoggedIn?[{label:o.a.createElement(Z.a,{background:{light:"light-2",dark:"dark-2"},checked:t,label:"Scheduled Events"}),onClick:function(){return n(!t)}},{label:"Logout",onClick:function(e){return s(e)}}]:[]})):o.a.createElement(fe.a,null,l.isLoggedIn?o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{pad:"medium",direction:"row",align:"center"},o.a.createElement(L.a,{level:"1",color:"brand",style:{userSelect:"none",fontFamily:"Playball"}},"Event Tool")),o.a.createElement(q.a,{direction:"row",gap:"small"},o.a.createElement(q.a,{gap:"small",margin:"medium",direction:"row"},o.a.createElement(ee.a,{onClick:function(){n(!t)},style:{fontFamily:"Fira Sans",textDecoration:t?"underline":"none"}},"Scheduled Events")),o.a.createElement(q.a,{gap:"small",margin:"medium",direction:"row"},o.a.createElement(ee.a,{style:{fontFamily:"Fira Sans"},weight:"bold",plain:!0,label:"Logout",onClick:s})))):null)},ke=t(1),Se=t(106),we=t.n(Se),Oe=t(327),je=t(328),Ce=t(329),Ie=t(330),_e=t(331);function xe(){var e=Object(h.a)(["\n  position: fixed;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  min-width: 100;\n  max-height: 70%;\n  left: 2.5%;\n  right: 2.5%;\n  z-index: 1;\n  opacity: ",";\n  pointer-events: ",";\n  transition: opacity 0.5s ease 0.2s;\n"]);return xe=function(){return e},e}var ze=C.FETCH_USER,Te=Object(ke.default)(q.a)(xe(),(function(e){return e.shown?1:0}),(function(e){return e.shown?"all":"none"})),Ae=function(e){var a=e.user,t=e.pending,n=Object(f.c)(ze,{variables:{userId:a.id},pollInterval:500}),r=n.data,l=n.error,i=n.loading;return l?o.a.createElement(q.a,null,o.a.createElement(L.a,{margin:"small",color:"red"},l.message)):i?o.a.createElement(q.a,null,o.a.createElement(L.a,{color:"green"},"Loading")):o.a.createElement(Te,{overflow:"scroll",pad:"medium",background:{light:"light-2",dark:"dark-1"},border:{size:"small"},elevation:"medium",shown:t,align:"center"},o.a.createElement(L.a,{level:"4",textAlign:"center"},"Status of Recently Submitted Events"),o.a.createElement(q.a,{width:"100%"},o.a.createElement(Oe.a,null,o.a.createElement(je.a,null,o.a.createElement(Ce.a,null,o.a.createElement(Ie.a,{scope:"col",border:"bottom"},"Date"),o.a.createElement(Ie.a,{scope:"col",border:"bottom"},"Status"))),o.a.createElement(_e.a,null,r.user.jobs.map((function(e,a){var t=new Date(e.schedule);return o.a.createElement(Ce.a,{key:a},o.a.createElement(Ie.a,null,we()(t).format("dddd, MMMM Do YYYY, h:mm:ss a")),o.a.createElement(Ie.a,null,e.status))}))))))},$e=t(33),Fe=t(358),De=t(140),Pe=t(332),qe=t(333),Le=t(334),Re=P.PUSH_API_KEY;function Ue(e){var a=e.errors,t=Object.keys(a).map((function(e,t){return o.a.createElement(K.a,{size:"small",color:"red",key:t},"* ",e," - ",a[e])}));return Object.keys(a).length>0?o.a.createElement(q.a,{margin:{left:"large",right:"large",bottom:"small"},pad:"medium",border:{color:"red",size:"small"}},o.a.createElement(K.a,{size:"small",color:"red"},"This form has errors in the following fields:"),o.a.createElement(q.a,{margin:{left:"large"}},t)):null}var Me=function(e){var a=e.id,t=e.open,n=Object(i.useState)(""),r=Object(g.a)(n,2),l=r[0],c=r[1],s=Object(i.useState)(null),u=Object(g.a)(s,2),m=u[0],d=u[1],E=Object(f.b)(Re,{onError:function(e){var a=e.message.split(":")[1];d(o.a.createElement(K.a,{size:"small"},a)),setTimeout((function(){d(null)}),1e4)}}),p=Object(g.a)(E,1)[0];return o.a.createElement(Pe.a,{open:t||!1},o.a.createElement(q.a,{margin:"small"},o.a.createElement(Q.a,{error:m,label:"API Key"},o.a.createElement(ue.a,{onChange:function(e){return c(e.target.value)},value:l,placeholder:"2HFXXX2G...."})),o.a.createElement(ee.a,{type:"button",onClick:function(e){e.preventDefault(),p({variables:{id:a,apikey:l}}),c("")},color:"neutral-2",label:"Submit"})))};var Ke=function(e){var a=e.user,t=e.selectedKey,n=e.setSelectedKey,r=e.isSubmitting,l=e.errors,c=a.apikeys,s=Object(i.useState)(!0),u=Object(g.a)(s,2),m=u[0],d=u[1],E=Object(i.useState)(!1),p=Object(g.a)(E,2),f=p[0],h=p[1];return Object(i.useEffect)((function(){n(c[0])}),[c,n]),o.a.createElement(q.a,{pad:"medium",width:"100vw",justify:"between",flex:!0},o.a.createElement(L.a,{color:m?"brand":{dark:"light-1",light:"dark-1"},level:"3"},o.a.createElement(ee.a,{plain:!0,onClick:function(){return d(!m)}},"Eventbrite Accounts")),o.a.createElement(q.a,{margin:{right:"small"},direction:"row",justify:"end"},o.a.createElement(q.a,{justify:"center"},o.a.createElement(q.a,{direction:"row",align:"center",gap:"small",label:"Account",as:"button",type:"button",border:{size:"small"},size:"medium",onClick:function(){return h(!f)}},f?o.a.createElement(qe.a,{size:"small"}):o.a.createElement(Le.a,{size:"small"}),o.a.createElement(K.a,{size:"small"},"Edit")))),o.a.createElement(Pe.a,{open:m},o.a.createElement(B,{user:a,selectedKey:t,setSelectedKey:n}),o.a.createElement(Me,{id:a.id,open:f}),o.a.createElement(Ue,{errors:l}),o.a.createElement(q.a,{align:"end"},o.a.createElement(q.a,{direction:"row",gap:"small"},o.a.createElement(ee.a,{label:"Submit",type:"submit",primary:!0,size:"large",color:"brand",disabled:r})))))},Ne=t(335),Ve=t(336),Ge=C.FETCH_CATEGORIES_AND_SUBCATEGORIES_AND_TYPES;function He(e){var a=e.apikey,t=e.values,n=e.handleChange,r=e.setFieldValue,l=e.errors,c=Object(i.useState)(!0),s=Object(g.a)(c,2),u=s[0],m=s[1],d=Object(f.c)(Ge,{variables:{apikey:a}}),E=d.loading,p=d.data,h=d.error;if(E)return o.a.createElement(q.a,{height:"100vh",justify:"center",align:"center"},o.a.createElement(ie,null));if(h)return o.a.createElement(q.a,null,h.message);var b=p.categories.map((function(e){return{name:e.name,id:e.id}})),v=p.subcategories.filter((function(e){return e.parent===t.category.name})).map((function(e){return{name:e.name,id:e.id}})),y=p.types.map((function(e){return{name:e.name,id:e.id}})),k=p.account.organizations.map((function(e){return{name:e.name,id:e.id}}));return o.a.createElement(q.a,{pad:"medium",width:"100vw",justify:"between",flex:!0},o.a.createElement(ee.a,{plain:!0,onClick:function(){return m(!u)}},o.a.createElement(L.a,{color:u?"neutral-2":{dark:"light-1",light:"dark-1"},level:"2"},u?"-":"+"," ",o.a.createElement(Ne.a,{color:u?"neutral-2":{dark:"light-1",light:"dark-1"},size:"medium"})," ","Basic Info")),o.a.createElement(Pe.a,{open:u},o.a.createElement(q.a,{id:"basic",margin:"small"},o.a.createElement(J,{margin:"small",info:o.a.createElement(q.a,{align:"end"},o.a.createElement(K.a,{size:"small"},t.title.length," / 70")),error:l.title,label:"Event Title"},o.a.createElement(ue.a,{name:"title",margin:"small",value:t.title,onChange:n,placeholder:"Be clear and descriptive"})),o.a.createElement(q.a,{margin:"small",gap:"small",direction:"row"},o.a.createElement(J,{error:l.type,label:"Type"},o.a.createElement(ae.a,{placeholder:"Type",value:t.type,labelKey:"name",valueKey:{key:"id"},onChange:function(e){var a=e.option;return r("type",a)},options:y})),o.a.createElement(J,{error:l.category,label:"Category"},o.a.createElement(ae.a,{placeholder:"Music",labelKey:"name",valueKey:{key:"id"},value:t.category,onChange:function(e){var a=e.option;return r("category",a)},options:b})),v.length>1?o.a.createElement(J,{error:l.subcategory,label:"Subcategory"},o.a.createElement(ae.a,{value:t.subcategory,labelKey:"name",valueKey:{key:"id"},onChange:function(e){var a=e.option;return r("subcategory",a)},options:v})):null),o.a.createElement(J,{label:"Organizer",margin:"small"},o.a.createElement(ae.a,{labelKey:"name",valueKey:{key:"id"},value:t.organization||k[0].name,options:k,onChange:function(e){var a=e.option;return r("organization",a)}}))),o.a.createElement(L.a,{level:"2"},o.a.createElement(Ve.a,null)," Locations"),o.a.createElement(q.a,{margin:"small"},o.a.createElement(J,{label:"Venue",margin:"small"},o.a.createElement(ae.a,{multiple:!1,value:t.locationType||"",placeholder:"Venue",options:["Venue","Online Event","To Be Announced"],onChange:function(e){var a=e.option;return r("locationType",a)}})),"Venue"===t.locationType?o.a.createElement(re,{label:"Location",margin:"small",error:l.locations,values:t,setFieldValue:r}):null)))}var We=t(352),Ye=t(347),Be=t(337);function Qe(e){var a=e.values,t=(e.onChange,e.setFieldValue),n=(e.apikey,e.screenSize),r=e.errors,l=Object(E.a)(e,["values","onChange","setFieldValue","apikey","screenSize","errors"]),c=Object(i.useState)(!1),s=Object(g.a)(c,2),u=s[0],m=s[1],d=new Date,p=d.getFullYear(),f=d.getDate(),h=d.getMonth(),b=[d.toISOString(),new Date(p+5,h,f).toISOString()],v=function(e,a){"start"===a&&t("start_time",e.target.value),"end"===a&&t("end_time",e.target.value)};return o.a.createElement(q.a,{pad:"medium",width:"100vw",fill:!0},o.a.createElement(ee.a,{plain:!0,onClick:function(){return m(!u)}},o.a.createElement(L.a,{color:u?"neutral-2":{dark:"light-1",light:"dark-1"},level:"2"},u?"-":"+"," ",o.a.createElement(Be.a,{size:"medium",color:u?"neutral-2":{dark:"light-1",light:"dark-1"}})," ","Schedule")),o.a.createElement(Pe.a,{open:u},o.a.createElement(J,{pad:!0,help:o.a.createElement(q.a,{id:"schedule",pad:"medium",margin:"small",background:{light:"light-4",dark:"dark-4"}},o.a.createElement(We.a,Object.assign({name:"single",label:o.a.createElement(q.a,{margin:"xxsmall"},o.a.createElement(K.a,{size:"small"},o.a.createElement(K.a,{size:"small",weight:"bold"},"Single occurrence")," ","- happens once and can last multiple days")),checked:!a.series,onChange:function(){return t("series",!1)}},l)),o.a.createElement(We.a,Object.assign({label:o.a.createElement(q.a,{margin:"xxsmall"},o.a.createElement(K.a,{size:"small"},o.a.createElement(K.a,{size:"small",weight:"bold"},"Recurring events")," ","- repeats or occurs more than once")),name:"series",checked:a.series,onChange:function(){return t("series",!0)}},l))," ")},a.series?o.a.createElement(q.a,{id:"schedule",justify:"center",margin:"small",direction:"small"===n?"column":"row"},o.a.createElement(J,{label:"Select an event date",error:r.start_date},o.a.createElement(Ye.a,{bounds:b,size:"medium",range:!0})),o.a.createElement(q.a,{pad:"small",justify:"center"},o.a.createElement(ce,{error:r.start_time,label:"Start Time:",value:a.start_time,onChange:function(e){return v(e,"start")},required:!0}),o.a.createElement(ce,{error:r.end_time,label:"End Time:",value:a.end_time,onChange:function(e){return v(e,"end")},required:!0}),o.a.createElement(J,{label:"Occurs:"},o.a.createElement(ae.a,{value:a.occurs,options:["Daily","Weekly","Monthly"],onChange:function(e){var a=e.option;return t("occurs",a)}})),o.a.createElement(J,{info:"Event repeats "+a.times+(a.times>1?" times.":" time.")},o.a.createElement(ue.a,{value:a.times,onChange:function(e){return t("recurrence",e.target.value)}})))):o.a.createElement(q.a,{justify:"around",margin:"small",direction:"small"===n?"column":"row"},o.a.createElement(J,{label:"Select an event date",error:r.start_date},o.a.createElement(Ye.a,{bounds:b,size:"medium",onSelect:function(e){"string"===typeof e&&(t("start_date",e[0][0]),t("end_date","")),"object"===typeof e&&(t("start_date",e[0][0]),t("end_date",e[0][1]))},range:!0})),o.a.createElement(q.a,{pad:"small",justify:"center"},o.a.createElement(ce,{error:r.start_time,label:"Start Time:",value:a.start_time,onChange:function(e){return v(e,"start")},required:!0}),o.a.createElement(ce,{error:r.end_time,label:"End Time:",value:a.end_time,onChange:function(e){return v(e,"end")},required:!0}))))))}var Je=t(184),Xe=t.n(Je),Ze=t(357),ea=t(338),aa=(t(285),function(e){var a=e.values,t=e.setFieldValue,n=e.handleChange,r=e.errors,l=Object(i.useState)(!1),c=Object(g.a)(l,2),s=c[0],u=c[1];return o.a.createElement(q.a,{pad:"medium",width:"100vw"},o.a.createElement(ee.a,{plain:!0,onClick:function(){return u(!s)}},o.a.createElement(L.a,{color:s?"neutral-2":{dark:"light-1",light:"dark-1"},level:"2"},s?"-":"+"," ",o.a.createElement(ea.a,{color:s?"neutral-2":{dark:"light-1",light:"dark-1"},size:"medium"})," ","Event Description")),o.a.createElement(Pe.a,{open:s},o.a.createElement(q.a,{margin:"small"},o.a.createElement(J,{errors:r.summary,info:o.a.createElement(q.a,{align:"end"},o.a.createElement(K.a,{size:"small"},a.summary.length," / 140")),label:"Summary"},o.a.createElement(Ze.a,{name:"summary",value:a.summary,onChange:n,placeholder:"Write a short event summary to get attendees excited",resize:!1}))),o.a.createElement(q.a,{margin:"small"},o.a.createElement(J,{label:"Description",errors:r.description},o.a.createElement(Xe.a,{valid:!r.description,theme:"snow",placeholder:"format your description however you like",value:a.description,onChange:function(e){return t("description",e)}})))))}),ta=t(343),na=t(339),ra=t(340),la=function(e){var a=e.screenSize,t=e.values,n=e.setFieldValue,r=Object(i.useState)("paid"),l=Object(g.a)(r,2),c=l[0],s=l[1],u=Object(i.useState)(!1),m=Object(g.a)(u,2),d=m[0],E=m[1],p=Object(i.useState)({name:"General Admission",quantity:100,price:"$0.00",num:0}),f=Object(g.a)(p,2),h=f[0],b=f[1];return o.a.createElement(q.a,{pad:"medium",width:"100vw"},o.a.createElement(ee.a,{plain:!0,onClick:function(){return E(!d)}},o.a.createElement(L.a,{color:d?"neutral-2":{dark:"light-1",light:"dark-1"},level:"2"},d?"-":"+"," ",o.a.createElement(na.a,{color:d?"neutral-2":{dark:"light-1",light:"dark-1"},size:"medium"})," ","Tickets")),o.a.createElement(Pe.a,{open:d},o.a.createElement(q.a,{gap:"medium",justify:"center",direction:"small"===a?"column":"row"},o.a.createElement(q.a,{pad:"small",width:"small"===a?"100%":"50%"},o.a.createElement(q.a,{gap:"medium",justify:"center",pad:"small",direction:"row"},o.a.createElement(q.a,{focusIndicator:!1,as:"button",pad:"medium",border:"paid"===c?{size:"small",color:"brand"}:{size:"small"},background:{light:"light-2",dark:"dark-1"},style:"paid"===c?{userSelect:"none",background:"rgba(240, 85, 55, 0.2)"}:{userSelect:"none"},onClick:function(){return s("paid")}},o.a.createElement(K.a,null,"Paid")),o.a.createElement(q.a,{focusIndicator:!1,as:"button",border:"free"===c?{size:"small",color:"brand"}:{size:"small"},onClick:function(){b(Object(M.a)({},h,{price:"$0.00"})),s("free")},background:{light:"light-2",dark:"dark-1"},style:"free"===c?{userSelect:"none",background:"rgba(240, 85, 55, 0.2)"}:{userSelect:"none"},pad:"medium"},o.a.createElement(K.a,null,"Free"))),o.a.createElement(J,{label:"Name",required:!0},o.a.createElement(ue.a,{value:"General Admission"===h.name?"":h.name,placeholder:h.name,onChange:function(e){return b(Object(M.a)({},h,{name:e.target.value}))}})),o.a.createElement(J,{label:"Quantity",required:!0},o.a.createElement(oe.a,{value:h.quantity,mask:[{length:[1,6],regexp:/^([0-9]*[1-9][0-9]*(\.[0-9]+)?|[0]+\.[0-9]*[1-9][0-9]*)$/}],onChange:function(e){return b(Object(M.a)({},h,{quantity:e.target.value}))}})),o.a.createElement(J,{label:"Price",required:"paid"===c,disabled:"free"===c,style:{position:"relative"}},o.a.createElement(oe.a,{icon:o.a.createElement(ra.a,null),onBlur:function(){h.price.split(".").length<2&&b(Object(M.a)({},h,{price:h.price+".00"}))},mask:[{fixed:"$"},{length:[1,5],regexp:/^\d{1,5}$/},{fixed:"."},{length:[2],regexp:/^[0-9]/,placeholder:"00"}],placeholder:"$0.00"===h.price?"Free":null,value:"$0.00"===h.price?"":h.price,disabled:"free"===c,onChange:function(e){return b(Object(M.a)({},h,{price:e.target.value}))}})),o.a.createElement(q.a,{alignSelf:"center",width:"30%"},o.a.createElement(ee.a,{primary:!0,onClick:function(e){b(Object(M.a)({},h,{num:h.num+1})),n("tickets",[].concat(Object(x.a)(t.tickets),[h]))},size:"medium",label:"Create Ticket"}))),o.a.createElement(q.a,{pad:"small",width:"small"===a?"100%":"50%"},t.tickets.length>0?o.a.createElement(q.a,{width:"100%",align:"center"},o.a.createElement(ta.a,{primaryKey:"num",columns:[{property:"name",header:o.a.createElement(K.a,null,"Name")},{property:"quantity",header:o.a.createElement(K.a,null,"Qty")},{property:"price",header:o.a.createElement(K.a,null,"Price"),render:function(e){return"$0.00"===e.price?"Free":e.price}},{property:"num",render:function(e){return o.a.createElement(q.a,{round:"full",overflow:"hidden"},o.a.createElement(ee.a,{size:"small",hoverIndicator:"accent-1",onClick:function(){n("tickets",t.tickets.filter((function(a){return a.num!==e.num})))},icon:o.a.createElement(V.a,null)}))}}],data:t.tickets})):o.a.createElement(q.a,{height:"100%",align:"center",justify:"center"},o.a.createElement(K.a,null,"Add Ticket"))))))},ia={title:"",type:"",category:"",subcategory:"",organization:"",locationType:"Venue",locations:[],series:!1,start_date:"",start_time:"",end_date:"",end_time:"",times:1,occurs:"Daily",summary:"",description:"",tickets:[]},oa={title:$e.d().min(2,"too short").max(70,"Too Long").required("event title is required"),category:$e.d().required("category selection is required"),subcategory:$e.d().required("subcategory selection is required"),type:$e.d().required("event type is required"),locations:$e.a().of($e.d()).required("must add at least one location"),start_date:$e.b().required("must select at least one date"),start_time:$e.d().required("select a event start time"),end_time:$e.d().required("select a event end time"),description:$e.d().required("please add a description"),tickets:$e.a().required("please add a ticket")},ca=P.SUBMIT_FORM,sa=C.FETCH_USER;var ua=function(e){var a=e.user,t=e.responsive,n=e.history,r=e.defaultKey,l=$e.c().shape(oa),c=Object(i.useState)(r),s=Object(g.a)(c,2),u=s[0],m=s[1],d=Object(f.b)(ca,{onError:function(e){console.log(e)},update:function(e,t){var n=t.data.scheduleEvent;e.writeQuery({query:sa,variables:{userId:a.id},data:{user:Object(M.a)({},n)},fetchPolicy:"no-cache"})}}),E=Object(g.a)(d,1)[0],p=new Date(Date.now()).toISOString(),h=we()(p).add(2,"minutes").toISOString();return a.apikeys&&a.apikeys.length>0?o.a.createElement(q.a,{pad:"medium"},o.a.createElement(De.b,{initialValues:ia,validateOnChange:!1,validationSchema:l,onSubmit:function(e,t){var n=t.setSubmitting;console.log(u),E({variables:{id:a.id,date:h,data:JSON.stringify(e),key:u}}),n()}},(function(e){var r=e.values,l=e.errors,i=e.handleChange,c=e.handleSubmit,s=e.isSubmitting,d=e.setFieldValue;return o.a.createElement(De.a,{onSubmit:c},o.a.createElement(Ke,{user:a,errors:l,selectedKey:u,setSelectedKey:m,history:n,isSubmitting:s}),o.a.createElement(He,{values:r,setFieldValue:d,handleChange:i,apikey:u,errors:l}),o.a.createElement(Qe,{values:r,setFieldValue:d,handleChange:i,screenSize:t,apikey:u,errors:l}),o.a.createElement(aa,{values:r,setFieldValue:d,handleChange:i,apikey:u,errors:l}),o.a.createElement(la,{values:r,setFieldValue:d,screenSize:t,errors:l}))}))):o.a.createElement(q.a,{border:{color:"brand",size:"medium"},pad:"medium",align:"center",justify:"center"},o.a.createElement(L.a,{style:{fontFamily:"Fira Sans",fontWeight:"900"},margin:"small"},"Welcome to Event Tool"),o.a.createElement(q.a,{width:"70%",margin:"medium",align:"start"},o.a.createElement(L.a,{margin:"small",level:"3"},"How to use this application:"),o.a.createElement(Fe.a,{margin:"small"},"In order to use this application you need to:"),o.a.createElement(q.a,{margin:{left:"large"}},o.a.createElement(Fe.a,null,"1. Login to an Eventbrite account"),o.a.createElement(Fe.a,null,"2. Go to Account Settings"),o.a.createElement(Fe.a,null,"3. Click the Developer Links Section"),o.a.createElement(Fe.a,null,"4. Click the create api key button and fill out the nessesary data"),o.a.createElement(Fe.a,null,'5. Copy the "Private Token" and paste into the eventbrite accounts form above'," "))))},ma=C.FETCH_USER_ID,da=C.FETCH_USER;var ga=function(e){var a=e.responsive,t=e.pending,n=Object(f.c)(ma),r=n.data.userId,l=n.error,i=n.loading,c=Object(f.c)(da,{variables:{userId:r}}),s=c.data,u=c.error,m=c.loading;if(l||u)return l?o.a.createElement("h3",null,"Error: ",l.message):o.a.createElement("h3",null,u.message);if(i||m)return o.a.createElement(q.a,{height:"100vh",justify:"center",align:"center"},o.a.createElement(ie,null));var d=s.user,g=d.apikeys[0];return o.a.createElement(q.a,{direction:"row",justify:"start",align:"start",height:"100vh"},o.a.createElement(q.a,null,o.a.createElement(Ae,{user:d,pending:t}),o.a.createElement(ua,{responsive:a,user:d,defaultKey:g})))},Ea=t(341),pa=t(346),fa=t(342),ha=t(186),ba=Object(ha.deepMerge)(Ea.a,{defaultMode:"dark",global:{font:{family:"Noto Sans"},colors:{brand:"#f05537","accent-1":"#73a580","accent-2":"#F48668","accent-3":"#c5c392","neutral-1":"#EEA960","neutral-2":"#3659e3","neutral-3":"#47AE6A",inactive:"#6f7287",focus:"none"}}});var va=function(e){var a=Object(i.useState)(!1),t=Object(g.a)(a,2),n=t[0],r=t[1],l=Object(i.useState)(!1),c=Object(g.a)(l,2),s=c[0],u=c[1];return window.setDarkMode=u,o.a.createElement(pa.a,{theme:ba,themeMode:s?"dark":"light"},o.a.createElement(fa.a.Consumer,null,(function(a){return o.a.createElement(q.a,{height:{max:"100vh"},style:{transition:"0.25s ease-out"},background:{light:"light-3",dark:"dark-1"},overflow:"auto"},o.a.createElement(ye,{responsive:a,pending:n,setPending:r}),o.a.createElement(q.a,Object.assign({tag:"main",direction:"column",align:"center",justify:"start"},e),o.a.createElement(p.d,null,o.a.createElement(_,{responsive:a,path:"/login",component:pe,routeType:"auth"}),o.a.createElement(_,{exact:!0,path:"/",responsive:a,component:ga,pending:n,routeType:"protected"}),o.a.createElement(p.a,{to:"/"}))))})))},ya=t(102),ka=t(187),Sa=t.n(ka),wa=t(66),Oa=t(190),ja=t(188),Ca=t(191),Ia=t(24),_a=t(189),xa=t(28),za=P.VERIFY_USER,Ta=new Oa.a({dataIdFromObject:function(e){return e._id||null}}),Aa=Object(_a.a)((function(e){var a=e.graphQLErrors;a&&a.map((function(e){var a=e.message;return console.log(a)}))})),$a=(window.location.hostname,Object(Ca.a)({uri:"/graphql",headers:{authorization:localStorage.getItem("auth-token")}})),Fa=function(){var e=Object(l.a)(r.a.mark((function e(){var a,t,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ja.persistCache)({cache:Ta,storage:window.localStorage});case 2:a=new wa.c({link:xa.a.from([Aa,$a]),cache:Ta,onError:function(e){var a=e.networkError,t=e.graphQLErrors;console.log("graphQLErrors",t),console.log("networkError",a)},resolvers:{}}),t=localStorage.getItem("auth-token"),n=localStorage.getItem("userId"),Ta.writeData({data:{isLoggedIn:Boolean(t),userId:n}}),t&&a.mutate({mutation:za,variables:{token:t}}).then((function(e){var a=e.data;Ta.writeData({data:{isLoggedIn:a.verifyUser.loggedIn,userId:a.verifyUser.id}})})),l=function(){return o.a.createElement(Ia.a,{client:a},o.a.createElement(ya.a,null,o.a.createElement(va,null)))},Sa.a.load({google:{families:["Playball","Fira Sans","Noto Sans"]}}),s.a.render(o.a.createElement(l,null),document.getElementById("root")),m();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();document.addEventListener("DOMContentLoaded",(function(e){Fa()}))}},[[196,1,2]]]);
//# sourceMappingURL=main.d9ea11d6.chunk.js.map