(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{125:function(e,a,t){e.exports=t(157)},131:function(e,a,t){},157:function(e,a,t){"use strict";t.r(a);var n=t(69),r=t.n(n),l=t(88),c=t(0),i=t.n(c),o=t(40),s=t.n(o);t(131),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=t(13),m=t(33),d=t(41),g=t(199),p=t(24),E=t(30),b=t.n(E);function f(){var e=Object(p.a)(["\n    query fetchCategories($apikey: String!) {\n      categories(apikey: $apikey) {\n        name\n        id\n      }\n      subcategories(apikey: $apikey) {\n        name\n        id\n        parent\n      }\n      types(apikey: $apikey) {\n        name\n        id\n      }\n      account(apikey: $apikey) {\n        name\n        organizations {\n          id\n          name\n        }\n      }\n    }\n  "]);return f=function(){return e},e}function h(){var e=Object(p.a)(["\n    query fetchAccount($apikey: String!) {\n      account(apikey: $apikey) {\n        id\n        first_name\n        last_name\n        apikey\n        name\n        email\n        is_public\n        image_id\n        organizations {\n          id\n          name\n        }\n      }\n    }\n  "]);return h=function(){return e},e}function v(){var e=Object(p.a)(["\n    query fetchAccounts($apikeys: [String!]) {\n      accounts(apikeys: $apikeys) {\n        id\n        first_name\n        last_name\n        apikey\n        name\n        email\n        is_public\n        image_id\n        organizations {\n          id\n          name\n        }\n      }\n    }\n  "]);return v=function(){return e},e}function y(){var e=Object(p.a)(["\n    query fetchUser($userId: ID!) {\n      user(id: $userId) {\n        id\n        email\n        apikeys\n      }\n    }\n  "]);return y=function(){return e},e}function k(){var e=Object(p.a)(["\n    query fetchUserId {\n      userId @client\n    }\n  "]);return k=function(){return e},e}function O(){var e=Object(p.a)(["\n    query IsUserLoggedIn {\n      isLoggedIn @client\n    }\n  "]);return O=function(){return e},e}var j={IS_LOGGED_IN:b()(O()),FETCH_USER_ID:b()(k()),FETCH_USER:b()(y()),FETCH_ACCOUNTS:b()(v()),FETCH_ACCOUNT:b()(h()),FETCH_CATEGORIES_AND_SUBCATEGORIES_AND_TYPES:b()(f())},S=j.IS_LOGGED_IN,w=function(e){var a=e.component,t=e.path,n=e.exact,r=e.routeType,l=Object(m.a)(e,["component","path","exact","routeType"]);return i.a.createElement(g.a,{query:S},(function(e){var c=e.data;return"auth"===r?i.a.createElement(d.b,{path:t,exact:n,render:function(e){return c.isLoggedIn?i.a.createElement(d.a,{to:"/"}):i.a.createElement(a,Object.assign({},e,l))}}):i.a.createElement(d.b,Object.assign({},l,{render:function(e){return c.isLoggedIn?i.a.createElement(a,Object.assign({},e,l)):i.a.createElement(d.a,{to:"/login"})}}))}))},I=t(20);function C(){var e=Object(p.a)(["\n    mutation deleteAPIkey($id: ID!, $apikey: String!) {\n      deleteAPIkey(id: $id, apikey: $apikey) {\n        id\n        email\n        apikeys\n      }\n    }\n  "]);return C=function(){return e},e}function x(){var e=Object(p.a)(["\n    mutation pushAPIkey($id: ID!, $apikey: String!) {\n      pushAPIkey(id: $id, apikey: $apikey) {\n        id\n        email\n        apikeys\n      }\n    }\n  "]);return x=function(){return e},e}function _(){var e=Object(p.a)(["\n    mutation VerifyUser($token: String!) {\n      verifyUser(token: $token) {\n        id\n        loggedIn\n      }\n    }\n  "]);return _=function(){return e},e}function T(){var e=Object(p.a)(["\n    mutation RegisterUser($email: String!, $password: String!) {\n      register(email: $email, password: $password) {\n        id\n        token\n        loggedIn\n      }\n    }\n  "]);return T=function(){return e},e}function A(){var e=Object(p.a)(["\n    mutation LoginUser($email: String!, $password: String!) {\n      login(email: $email, password: $password) {\n        id\n        token\n        loggedIn\n      }\n    }\n  "]);return A=function(){return e},e}var $={LOGIN_USER:b()(A()),REGISTER_USER:b()(T()),VERIFY_USER:b()(_()),PUSH_API_KEY:b()(x()),DELETE_API_KEY:b()(C())},z=t(31),D=t(204),P=t(175),F=t(200),q=t(201),R=t(78),U=t(77),L=function(e){var a=e.label,t=e.onClick,n="tab-item",r=!1;return e.activeTab===a&&(n+="active",r=!0),i.a.createElement(z.a,{pad:"xsmall",className:n,onClick:function(){return t(a)}},i.a.createElement(U.a,{style:r?{borderBottom:"3px solid #7D4CDB"}:null,truncate:!0,weight:r?"bold":"normal"},a))},K=function(e){var a=e.children,t=e.defaultTab,n=e.screenSize,r=Object(c.useState)(t),l=Object(u.a)(r,2),o=l[0],s=l[1],m=function(e){s(e)};return"Accounts"===o&&"large"===n&&s("Basic Info"),i.a.createElement(z.a,{margin:"xsmall"},i.a.createElement(z.a,{gap:"medium",direction:"row",justify:"center"},a.map((function(e){var a=e.props.label;return i.a.createElement(L,{activeTab:o,key:a,label:a,onClick:m})}))),i.a.createElement(z.a,null,a.map((function(e){if(e.props.label===o)return e.props.children}))))},M=t(176),N=function(e){var a=e.email,t=e.setEmail,n=e.password,r=e.setPassword,l=e.login,o=e.error,s=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=0,a="demo@demo.com123456",n=setInterval((function(){return e<=13?t(a.slice(0,e)):e<a.length&&e>13?r(a.slice(13,e+1)):(s.current.click(),clearInterval(n)),e++,function(){clearInterval(n)}}),200)}),[t,r]),i.a.createElement(P.a,{align:"end",onSubmit:function(e){e.preventDefault(),l({variables:{email:a,password:n}})}},i.a.createElement(F.a,{info:"Email Address",align:"start"},i.a.createElement(q.a,{icon:i.a.createElement(M.a,null),value:a,onChange:function(e){return t(e.target.value)},placeholder:"example@example.com"})),i.a.createElement(F.a,{info:"Password",align:"start"},i.a.createElement(q.a,{value:n,onChange:function(e){return r(e.target.value)},type:"password",placeholder:"Password"})),i.a.createElement(R.a,{ref:s,margin:{left:"auto"},type:"submit",primary:!0,label:"Submit"}),i.a.createElement(z.a,{style:{color:"Red"},align:"center",height:"20px",pad:"large"},o))},B=$.LOGIN_USER,G=$.REGISTER_USER,H=function(e){var a=Object(c.useState)(""),t=Object(u.a)(a,2),n=t[0],r=t[1],l=Object(c.useState)(""),o=Object(u.a)(l,2),s=o[0],m=o[1],d=Object(c.useState)(""),g=Object(u.a)(d,2),p=g[0],E=g[1],b=Object(I.b)(B,{onCompleted:function(a){var t=a.login,n=t.token,r=t.id;localStorage.setItem("auth-token",n),localStorage.setItem("userId",r),e.history.push("/")},onError:function(e){var a=e.message.split(":")[1];E(a)},update:function(e,a){!function(e,a){var t=a.data;e.writeData({data:{isLoggedIn:t.login.loggedIn,userId:t.login.id}})}(e,a)}}),f=Object(u.a)(b,1)[0],h=Object(I.b)(G,{onCompleted:function(e){f({variables:{email:n,password:s}})},onError:function(e){var a=e.message.split(":")[1];E(a+"hello")}}),v=Object(u.a)(h,1)[0];return i.a.createElement(z.a,{width:"100%",height:"100%",align:"center"},i.a.createElement(D.a,null,"Event Tool"),i.a.createElement(K,{defaultTab:"Login"},i.a.createElement(z.a,{label:"Login",align:"center",pad:"small"},i.a.createElement(P.a,{align:"end",onSubmit:function(e){e.preventDefault(),f({variables:{email:n,password:s}})}},i.a.createElement(F.a,{info:"Email Address",align:"start"},i.a.createElement(q.a,{icon:i.a.createElement(M.a,null),value:n,onChange:function(e){return r(e.target.value)},placeholder:"example@example.com"})),i.a.createElement(F.a,{info:"Password",align:"start"},i.a.createElement(q.a,{value:s,onChange:function(e){return m(e.target.value)},type:"password",placeholder:"Password"})),i.a.createElement(R.a,{margin:{left:"auto"},type:"submit",primary:!0,label:"Submit"}),i.a.createElement(z.a,{style:{color:"Red"},align:"center",height:"20px",pad:"large"},p))),i.a.createElement(z.a,{label:"Register"},i.a.createElement(P.a,{align:"end",onSubmit:function(e){e.preventDefault(),v({variables:{email:n,password:s}})}},i.a.createElement(F.a,{info:"Email Address",align:"start"},i.a.createElement(q.a,{value:n,onChange:function(e){return r(e.target.value)},placeholder:"example@example.com"})),i.a.createElement(F.a,{info:"Password",align:"start"},i.a.createElement(q.a,{value:s,onChange:function(e){return m(e.target.value)},type:"password",placeholder:"Password"})),i.a.createElement(R.a,{margin:{left:"auto"},type:"submit",primary:!0,label:"Submit"}),i.a.createElement(z.a,{style:{color:"Red"},align:"center",height:"20px",pad:"large"},p))),i.a.createElement(z.a,{label:"Demo",align:"center",pad:"small"},i.a.createElement(N,{error:p,login:f,password:s,setPassword:m,email:n,setEmail:r}))))},Y=t(177),Q=t(178),V=t(202),W=t(179),X=t(180),J=t(181),Z=j.IS_LOGGED_IN,ee=function(e){var a=e.responsive,t=e.pending,n=e.setPending,r=e.mode,l=e.setMode,c=(Object(m.a)(e,["responsive","pending","setPending","mode","setMode"]),Object(I.c)(Z)),o=c.data,s=c.error,u=Object(I.a)();if(s)return i.a.createElement("h3",null,"Error: ",s.message);var d=function(e){e.preventDefault(),localStorage.removeItem("auth-token"),localStorage.removeItem("userId"),u.writeData({data:{isLoggedIn:!1,userId:null}})};return"small"===a?i.a.createElement(Y.a,{background:"brand"},i.a.createElement(Q.a,{alignSelf:"center",dropProps:{align:{top:"bottom",left:"left"}},icon:i.a.createElement(W.a,null),pad:"small",items:o.isLoggedIn?[{label:i.a.createElement(V.a,{background:{light:"light-2",dark:"dark-2"},checked:r,label:"Dark Mode"}),onClick:function(){return l(!r)}},{label:i.a.createElement(V.a,{background:{light:"light-2",dark:"dark-2"},checked:t,label:"Show Upcoming"}),onClick:function(){return n(!t)}},{label:"Logout",onClick:function(e){return d(e)}}]:[]})):i.a.createElement(Y.a,{background:"brand"},i.a.createElement(z.a,{pad:"small",direction:"row",align:"center"},i.a.createElement(D.a,{level:"1",style:{userSelect:"none"}},"Event Tool ",i.a.createElement(X.a,{size:"2.5rem"}))),i.a.createElement(z.a,{direction:"row",gap:"small"},i.a.createElement(V.a,{label:i.a.createElement(U.a,{weight:"bold",size:"small"},"Dark Theme"),checked:r,onChange:function(){return l(!r)},reverse:!0}),o.isLoggedIn?i.a.createElement(i.a.Fragment,null,i.a.createElement(V.a,{label:i.a.createElement(U.a,{weight:"bold",size:"small"},"Show Upcoming"),checked:t,onClick:function(){n(!t)},reverse:!0}),i.a.createElement(z.a,{gap:"small",margin:"medium",direction:"row"},i.a.createElement(R.a,{icon:i.a.createElement(J.a,{size:"medium"}),label:"Logout",onClick:d}))):null))},ae=t(8),te=t(183),ne=t(182),re=$.DELETE_API_KEY,le=j.FETCH_ACCOUNT,ce=j.FETCH_USER;function ie(e){var a=e.apikey,t=e.id,n=e.userId,r=e.selectedKey,l=e.setSelectedKey,o=Object(c.useState)(!1),s=Object(u.a)(o,2),m=s[0],d=s[1],g=Object(I.b)(re,{onError:function(e){var a=e.message.split(":")[1];console.log(a)},update:function(e,a){var t=a.data.deleteAPIkey,r=e.readQuery({query:ce,variables:{userId:n}});e.writeQuery({query:ce,variables:{userId:n},data:{user:Object(ae.a)({},r.user,{apikeys:t.apikeys})}})}}),p=Object(u.a)(g,1)[0],E=Object(I.c)(le,{variables:{apikey:a}}),b=E.loading,f=E.data,h=E.error;if(h)return i.a.createElement("h3",{style:{color:"red",fontWeight:"bolder"}},h.message.split(":")[1]);if(b)return null;var v=f.account;return i.a.createElement(z.a,{focusIndicator:!1,width:"100vw",key:t,direction:"row",border:a===r?{color:"brand",size:"small"}:{size:"small"},background:{light:"light-2",dark:"dark-1"},as:"button",style:{cursor:"pointer"},onClick:function(){return l(a)}},i.a.createElement(z.a,{pad:"xsmall",direction:"column"},i.a.createElement(U.a,{size:"xsmall",truncate:!0},i.a.createElement(U.a,{size:"xsmall",weight:"bold"},"Account Name:")," ",v.name),i.a.createElement(U.a,{size:"xsmall",truncate:!0},i.a.createElement(U.a,{size:"xsmall",weight:"bold"},"Email:")," ",v.email),i.a.createElement(U.a,{size:"xsmall",truncate:!0},i.a.createElement(U.a,{size:"xsmall",weight:"bold"},"API_KEY:")," ",v.apikey)),i.a.createElement("div",{style:{width:"25px",padding:"3px"}},i.a.createElement(ne.a,{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onClick:function(e){e.preventDefault(),p({variables:{id:n,apikey:a}})},color:m?"status-error":"status-disabled"})))}var oe=function(e){var a=e.user,t=e.selectedKey,n=e.setSelectedKey;return i.a.createElement(te.a,{primaryKey:function(e,r){return i.a.createElement(ie,{key:r,apikey:e,userId:a.id,id:r,selectedKey:t,setSelectedKey:n})},data:a.apikeys})},se=t(184),ue=t(205),me=j.FETCH_USER,de=$.PUSH_API_KEY;var ge=function(e){var a=e.user,t=e.selectedKey,n=e.setSelectedKey,r=Object(c.useState)(null),l=Object(u.a)(r,2),o=l[0],s=l[1],m=Object(c.useState)(""),d=Object(u.a)(m,2),g=d[0],p=d[1],E=Object(I.b)(de,{onError:function(e){var a=e.message.split(":")[1];s(i.a.createElement(U.a,{size:"small"},a)),setTimeout((function(){s(null)}),1e4)},update:function(e,t){var n=t.data.pushAPIkey;e.writeQuery({query:me,variables:{userId:a.id},data:{user:Object(ae.a)({},a,{apikeys:n.apikeys})}})}}),b=Object(u.a)(E,1)[0];return i.a.createElement(z.a,{pad:"small",align:"start"},i.a.createElement(z.a,{height:{max:"65.6vh"},width:"100%",overflow:"auto"},i.a.createElement(z.a,{margin:{top:"small",bottom:"small",left:"15px",right:"15px"},pad:"xsmall",background:"brand"},i.a.createElement(D.a,{level:"4"},"Select Account")),i.a.createElement(oe,{user:a,selectedKey:t,setSelectedKey:n}),i.a.createElement(se.a,{alignSelf:"center",width:"100%"},i.a.createElement(ue.a,{height:"30px",pad:"small",margin:{top:"small",bottom:"small",left:"15px",right:"15px"},background:"brand",label:"Add Account"},i.a.createElement(z.a,{margin:"medium",wo:!0},i.a.createElement(P.a,{onSubmit:function(e){e.preventDefault(),b({variables:{id:a.id,apikey:g}}),p("")}},i.a.createElement(F.a,{error:o,label:"API Key",align:"start"},i.a.createElement(q.a,{onChange:function(e){return p(e.target.value)},value:g,placeholder:"2HFXXX2G...."})),i.a.createElement(R.a,{margin:{left:"auto"},type:"submit",primary:!0,label:"Submit"})))))))},pe=function(e){return i.a.createElement("div",null,"pending")},Ee=t(208),be=t(209),fe=t(196),he=function(e){var a=e.required,t=e.label,n=Object(m.a)(e,["required","label"]);return i.a.createElement(F.a,Object.assign({label:a?i.a.createElement(z.a,{direction:"row"},i.a.createElement(U.a,null,t),i.a.createElement(U.a,{color:"status-critical"},"*")):t,required:a},n))},ve=t(185),ye=t(186),ke=t(187),Oe=j.FETCH_CATEGORIES_AND_SUBCATEGORIES_AND_TYPES;function je(e){var a=e.apikey,t=e.form,n=e.setForm,r=t.title,l=t.location,c=t.category,o=t.subcategory,s=t.type,u=Object(I.c)(Oe,{variables:{apikey:a}}),m=u.loading,d=u.data,g=u.error;if(m)return i.a.createElement(z.a,{width:"100vw"},"...loading");if(g)return console.log(g),null;var p=d.categories.map((function(e){return e.name})),E=d.subcategories.filter((function(e){return e.parent===c})).map((function(e){return e.name})),b=d.types.map((function(e){return e.name})),f=d.account.organizations.map((function(e){var a=e.name;e.id;return a}));return i.a.createElement(z.a,{pad:"small",width:"100vw",justify:"between",flex:!0},i.a.createElement(D.a,{level:"2"},i.a.createElement(ve.a,null)," Basic Info"),i.a.createElement(z.a,{margin:"small"},i.a.createElement(he,{margin:"small",required:!0,info:i.a.createElement(z.a,{align:"end"},i.a.createElement(U.a,{size:"small"},r.length," / 70")),label:"Event Title"},i.a.createElement(q.a,{maxLength:"70",margin:"small",value:r,onChange:function(e){return n(Object(ae.a)({},t,{title:e.target.value}))},placeholder:"Be clear and descriptive"})),i.a.createElement(z.a,{margin:"small",gap:"small",direction:"row"},i.a.createElement(he,{label:"Type"},i.a.createElement(fe.a,{placeholder:"Conference",value:s,onChange:function(e){var a=e.option;return n(Object(ae.a)({},t,{type:a}))},options:b})),i.a.createElement(he,{label:"Category"},i.a.createElement(fe.a,{placeholder:"Music",value:c,onChange:function(e){var a=e.option;return n(Object(ae.a)({},t,{category:a}))},options:p})),E.length>1?i.a.createElement(he,{label:"Subcategory"},i.a.createElement(fe.a,{value:o,onChange:function(e){var a=e.option;return n(Object(ae.a)({},t,{subcategory:a}))},options:E})):null),i.a.createElement(he,{label:"Organizer",margin:"small"},i.a.createElement(fe.a,{value:f[0],options:f}))),i.a.createElement(D.a,{level:"2"},i.a.createElement(ye.a,null)," Locations"),i.a.createElement(z.a,{margin:"small"},i.a.createElement(he,{label:"Venue",margin:"small",required:!0},i.a.createElement(fe.a,{value:l,onChange:function(e){var a=e.option;return n(Object(ae.a)({},t,{location:a}))},options:["Venue","Online Event","To Be Announced"]})),"Venue"===l?i.a.createElement(he,{margin:"small"},i.a.createElement(q.a,{icon:i.a.createElement(ke.a,null),placeholder:"Search for a venue or address."})):null))}var Se=t(203),we=t(198),Ie=t(206),Ce=function(e){var a=e.label,t=e.required,n=Object(m.a)(e,["label","required"]);return i.a.createElement(he,{label:a,required:t},i.a.createElement(Ie.a,Object.assign({mask:[{length:[1,2],regexp:/^1[0,1-2]$|^0?[1-9]$|^0$/,placeholder:"Hour"},{fixed:":"},{length:2,options:["00","15","30","45"],regexp:/^[0-5][0-9]$|^[0-9]$/,placeholder:"Min"},{fixed:" "},{length:2,options:["AM","PM"],regexp:/^[ap]m$|^[AP]M$|^[aApP]$/,placeholder:"AM/PM"}]},n)))},xe=t(188);function _e(e){var a=e.form,t=e.setForm,n=(e.apikey,e.screenSize),r=Object(m.a)(e,["form","setForm","apikey","screenSize"]),l=new Date,c=l.getFullYear(),o=l.getDate(),s=l.getMonth(),u=[l.toISOString(),new Date(c+5,s,o).toISOString()],d=function(e,n){"start"===n&&t(Object(ae.a)({},a,{start:Object(ae.a)({},a.start,{time:e.target.value})})),"end"===n&&t(Object(ae.a)({},a,{end:Object(ae.a)({},a.end,{time:e.target.value})}))};return i.a.createElement(z.a,{pad:"small",width:"100vw",fill:!0},i.a.createElement(D.a,{level:"2"},i.a.createElement(xe.a,null)," Schedule"),i.a.createElement(he,{pad:!0,help:i.a.createElement(z.a,{pad:"medium",margin:"small",background:{light:"light-4",dark:"dark-4"}},i.a.createElement(Se.a,Object.assign({name:"single",label:i.a.createElement(z.a,{margin:"xxsmall"},i.a.createElement(U.a,{size:"small"},i.a.createElement(U.a,{size:"small",weight:"bold"},"Single occurrence")," ","- happens once and can last multiple days")),checked:!a.series,onChange:function(e){return t(Object(ae.a)({},a,{series:!1}))}},r)),i.a.createElement(Se.a,Object.assign({label:i.a.createElement(z.a,{margin:"xxsmall"},i.a.createElement(U.a,{size:"small"},i.a.createElement(U.a,{size:"small",weight:"bold"},"Recurring events")," ","- repeats or occurs more than once")),name:"series",checked:a.series,onChange:function(e){return t(Object(ae.a)({},a,{series:!0}))}},r))," ")},a.series?i.a.createElement(z.a,{justify:"center",margin:"small",direction:"small"===n?"column":"row"},i.a.createElement(we.a,{bounds:u,size:"medium",range:!0}),i.a.createElement(z.a,{pad:"small",justify:"center"},i.a.createElement(Ce,{label:"Start Time:",value:a.start.time,onChange:function(e){return d(e,"start")},required:!0}),i.a.createElement(Ce,{label:"End Time:",value:a.end.time,onChange:function(e){return d(e,"end")},required:!0}),i.a.createElement(he,{label:"Occurs:"},i.a.createElement(fe.a,{value:a.recurrence.occurs,options:["Daily","Weekly","Monthly"],onChange:function(e){var n=e.option;return t(Object(ae.a)({},a,{recurrence:Object(ae.a)({},a.recurrence,{occurs:n})}))}})),i.a.createElement(he,{info:"Event repeats "+a.recurrence.times+(a.recurrence.times>1?" times.":" time.")},i.a.createElement(q.a,{value:a.recurrence.times,onChange:function(e){return t(Object(ae.a)({},a,{recurrence:Object(ae.a)({},a.recurrence,{times:e.target.value})}))}})))):i.a.createElement(z.a,{justify:"around",margin:"small",direction:"small"===n?"column":"row"},i.a.createElement(we.a,{bounds:u,size:"medium",onSelect:function(e){2===e[0].length&&t(Object(ae.a)({},a,{start:Object(ae.a)({},a.start,{date:e[0][0]}),end:Object(ae.a)({},a.end,{date:e[0][1]})}))},range:!0}),i.a.createElement(z.a,{pad:"small",justify:"center"},i.a.createElement(Ce,{label:"Start Time:",value:a.start.time,onChange:function(e){return d(e,"start")},required:!0}),i.a.createElement(Ce,{label:"End Time:",value:a.end.time,onChange:function(e){return d(e,"end")},required:!0})))))}var Te=t(107),Ae=t(108),$e=t(120),ze=t(114),De=t(115),Pe=t(207),Fe=t(189),qe=function(e){Object($e.a)(t,e);var a=Object(ze.a)(t);function t(){var e;Object(Te.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={editor:""},e}return Object(Ae.a)(t,[{key:"render",value:function(){var e=this.props,a=e.form,t=e.setForm,n=function(e){t(Object(ae.a)({},a,{description:e.target.getContent()}))};return i.a.createElement(z.a,{pad:"small",width:"100vw"},i.a.createElement(D.a,{level:"2"},i.a.createElement(Fe.a,null)," Event Description"),i.a.createElement(z.a,{margin:"small"},i.a.createElement(he,{info:i.a.createElement(z.a,{align:"end"},i.a.createElement(U.a,{size:"small"},a.summary.length," / 140")),label:"Summary"},i.a.createElement(Pe.a,{onChange:function(e){return t(Object(ae.a)({},a,{summary:e.target.value}))},placeholder:"Write a short event summary to get attendees excited",resize:!1}))),i.a.createElement(z.a,{margin:"small"},i.a.createElement(De.a,{apiKey:"l4239s08cwmf7d2qxig6hsvhyihcglbothx4eb7vkgtlxkic",initialValue:a.description,init:{height:400,resize:!1,menubar:!1,plugins:["advlist autolink lists link image imagetools","charmap print preview anchor help","searchreplace visualblocks code","insertdatetime media table paste wordcount"],toolbar:"undo redo | formatselect | bold italic | bullist numlist | image"},onChange:n,onBlur:n})))}}]),t}(i.a.Component),Re=t(117),Ue=t(195),Le=t(190),Ke=t(191),Me=t(192),Ne=function(e){var a=e.form,t=e.setForm,n=e.screenSize,r=Object(c.useState)("paid"),l=Object(u.a)(r,2),o=l[0],s=l[1],m=Object(c.useState)(!1),d=Object(u.a)(m,2),g=d[0],p=d[1],E=Object(c.useState)({name:"General Admission",quantity:100,price:"$0.00",num:0}),b=Object(u.a)(E,2),f=b[0],h=b[1];return i.a.createElement(z.a,{justify:"center",pad:"small",width:"100vw"},i.a.createElement(D.a,{level:"2",margin:"medium"},i.a.createElement(Le.a,null)," Tickets"),i.a.createElement(z.a,{gap:"medium",justify:"center",direction:"small"===n?"column":"row"},i.a.createElement(z.a,{pad:"small",width:"small"===n?"100%":"50%"},i.a.createElement(z.a,{gap:"medium",justify:"center",pad:"small",direction:"row"},i.a.createElement(z.a,{focusIndicator:!1,as:"button",pad:"medium",border:"paid"===o?{size:"small",color:"brand"}:{size:"small"},background:{light:"light-2",dark:"dark-1"},style:"paid"===o?{userSelect:"none",background:"rgba(0, 96, 168, 0.2)"}:{userSelect:"none"},onClick:function(){return s("paid")}},i.a.createElement(U.a,null,"Paid")),i.a.createElement(z.a,{focusIndicator:!1,as:"button",border:"free"===o?{size:"small",color:"brand"}:{size:"small"},onClick:function(){h(Object(ae.a)({},f,{price:"$0.00"})),s("free")},background:{light:"light-2",dark:"dark-1"},style:"free"===o?{userSelect:"none",background:"rgba(0, 96, 168, 0.2)"}:{userSelect:"none"},pad:"medium"},i.a.createElement(U.a,null,"Free"))),i.a.createElement(he,{label:"Name",required:!0},i.a.createElement(q.a,{value:"General Admission"===f.name?"":f.name,placeholder:f.name,onChange:function(e){return h(Object(ae.a)({},f,{name:e.target.value}))}})),i.a.createElement(he,{label:"Quantity",required:!0},i.a.createElement(Ie.a,{value:f.quantity,mask:[{length:[1,6],regexp:/^([0-9]*[1-9][0-9]*(\.[0-9]+)?|[0]+\.[0-9]*[1-9][0-9]*)$/}],onChange:function(e){return h(Object(ae.a)({},f,{quantity:e.target.value}))}})),i.a.createElement(he,{label:"Price",required:"paid"===o,disabled:"free"===o,style:{position:"relative"}},i.a.createElement(Ie.a,{icon:i.a.createElement(Ke.a,null),onBlur:function(){f.price.split(".").length<2&&h(Object(ae.a)({},f,{price:f.price+".00"}))},mask:[{fixed:"$"},{length:[1,5],regexp:/^\d{1,5}$/},{fixed:"."},{length:[2],regexp:/^[0-9]/,placeholder:"00"}],placeholder:"$0.00"===f.price?"Free":null,value:"$0.00"===f.price?"":f.price,disabled:"free"===o,onChange:function(e){return h(Object(ae.a)({},f,{price:e.target.value}))}})),i.a.createElement(z.a,{alignSelf:"center",width:"30%"},i.a.createElement(R.a,{primary:!0,onClick:function(e){h(Object(ae.a)({},f,{num:f.num+1})),t(Object(ae.a)({},a,{tickets:[].concat(Object(Re.a)(a.tickets),[f])}))},size:"medium",label:"Create Ticket"}))),i.a.createElement(z.a,{pad:"small",width:"small"===n?"100%":"50%"},a.tickets.length>0?i.a.createElement(z.a,{width:"100%",align:"center"},i.a.createElement(Ue.a,{primaryKey:"num",columns:[{property:"name",header:i.a.createElement(U.a,null,"Name")},{property:"quantity",header:i.a.createElement(U.a,null,"Qty")},{property:"price",header:i.a.createElement(U.a,null,"Price"),render:function(e){return"$0.00"===e.price?"Free":e.price}},{property:"num",render:function(e){return i.a.createElement(R.a,{onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},onClick:function(){t(Object(ae.a)({},a,{tickets:a.tickets.filter((function(a){return a.num!==e.num}))}))},icon:i.a.createElement(Me.a,{color:g?"brand":null})})}}],data:a.tickets})):i.a.createElement(z.a,{height:"100%",align:"center",justify:"center"},i.a.createElement(U.a,null,"Add Ticket")))))},Be={active_tab:"Basic Info",title:"",location:"Venue",category:"Category",subcategory:"subcategory",type:"Type",summary:"",description:"",start:{date:(new Date).toISOString(),time:""},end:{date:(new Date).toISOString(),time:""},series:!1,recurrence:{times:1,occurs:"Daily"},tickets:[]};var Ge=function(e){var a=e.user,t=e.selectedKey,n=e.setSelectedKey,r=e.responsive,l=e.history,o=Object(c.useState)(Be),s=Object(u.a)(o,2),m=s[0],d=s[1],g=Object(c.useState)(),p=Object(u.a)(g,2),E=p[0],b=p[1],f=function(e){return b(e)};return console.log(m),"Accounts"===m.active_tab&&"large"===r&&d(Object(ae.a)({},m,{active_tab:"Basic Info"})),"large"!==r?i.a.createElement(z.a,{value:m},i.a.createElement(Ee.a,{margin:"small",activeIndex:E,onActive:f,defaultTab:"Accounts"},i.a.createElement(be.a,{title:"Accounts"},i.a.createElement(ge,{user:a,selectedKey:t,setSelectedKey:n,history:l})),i.a.createElement(be.a,{title:"Basic Info"},i.a.createElement(je,{form:m,setForm:d,apikey:t})),i.a.createElement(be.a,{title:"Schedule"},i.a.createElement(_e,{screenSize:r,form:m,setForm:d,apikey:t})),i.a.createElement(be.a,{title:"Description"},i.a.createElement(qe,{form:m,setForm:d,apikey:t})),i.a.createElement(be.a,{title:"Tickets"},i.a.createElement(Ne,{screenSize:r,form:m,setForm:d})))):i.a.createElement(z.a,{value:m},i.a.createElement(Ee.a,{activeIndex:E,onActive:f,defaultTab:"Accounts",screenSize:r,margin:"small"},i.a.createElement(be.a,{title:"Basic Info"},i.a.createElement(je,{form:m,setForm:d,apikey:t})),i.a.createElement(be.a,{title:"Schedule"},i.a.createElement(_e,{screenSize:r,form:m,setForm:d,apikey:t})),i.a.createElement(be.a,{title:"Description"},i.a.createElement(qe,{form:m,setForm:d,apikey:t})),i.a.createElement(be.a,{title:"Tickets"},i.a.createElement(Ne,{screenSize:r,form:m,setForm:d}))))},He=t(1);function Ye(){var e=Object(p.a)(["\n  .open {\n    opacity: 1;\n    height: 98%;\n    width: 400px;\n    transition: 0.25s ease-out;\n  }\n  .closed {\n    opacity: 0;\n    transition: 0.2s ease-in;\n    width: 0;\n    height: 98%;\n    transform: translateX(-130%);\n  }\n  .here {\n    opacity: 1;\n    transition: opacity 0.5s ease-out;\n  }\n  .gone {\n    pointer-events: none;\n    opacity: 0;\n  }\n"]);return Ye=function(){return e},e}var Qe=Object(He.default)(z.a)(Ye()),Ve=j.FETCH_USER_ID,We=j.FETCH_USER;var Xe=function(e){var a=e.responsive,t=e.pending,n=Object(m.a)(e,["responsive","pending"]),r=Object(I.c)(Ve),l=r.data.userId,o=r.error,s=r.loading,d=Object(I.c)(We,{variables:{userId:l}}),g=d.data.user,p=d.error,E=d.loading,b=Object(c.useState)(g.apikeys[0]),f=Object(u.a)(b,2),h=f[0],v=f[1];return o||p?i.a.createElement("h3",null,"Error: ",o.message||p.message):s||E?i.a.createElement("h1",null,"Test Message"):i.a.createElement(z.a,{direction:"column"},i.a.createElement(Qe,{direction:"row",justify:"start",align:"start"},i.a.createElement(z.a,{className:"large"!==a?"closed":"open"},i.a.createElement(ge,{user:g,history:n.history,selectedKey:h,setSelectedKey:v})),i.a.createElement(z.a,{style:{position:"relative"},direction:"row"},i.a.createElement(z.a,{className:t?"gone":"here"},i.a.createElement(Ge,{responsive:a,user:g,selectedKey:h,setSelectedKey:v})),i.a.createElement(z.a,{height:"100%",width:"100%",style:{position:"absolute",width:"100%",height:"100%"},className:t?"here":"gone"},i.a.createElement(pe,null)))))},Je=t(193),Ze=t(197),ea=t(194),aa=t(111),ta=Object(aa.deepMerge)(Je.a,{defaultMode:"light",global:{font:{family:"Roboto",size:"18px",height:"20px"},colors:{brand:"#0060A8","accent-1":"#00a89d","accent-2":"#a8005f","accent-3":"#b0e0dc","accent-4":"#dbf500",focus:"none"}}});var na=function(e){var a=Object(c.useState)(!1),t=Object(u.a)(a,2),n=t[0],r=t[1],l=Object(c.useState)(!1),o=Object(u.a)(l,2),s=o[0],m=o[1];return i.a.createElement(Ze.a,{theme:ta,themeMode:s?"dark":"light"},i.a.createElement(ea.a.Consumer,null,(function(a){return i.a.createElement(z.a,{style:{transition:"0.25s ease-out"},background:{light:"light-1",dark:"dark-1"},overflow:"auto",height:"100vh"},i.a.createElement(ee,{responsive:a,mode:s,setMode:m,pending:n,setPending:r}),i.a.createElement(z.a,Object.assign({tag:"main",direction:"column",align:"center",justify:"start"},e),i.a.createElement(w,{exact:!0,responsive:a,path:"/login",component:H,routeType:"auth"}),i.a.createElement(w,{exact:!0,path:"/",responsive:a,component:Xe,pending:n,routeType:"protected"})))})))},ra=t(68),la=t(27),ca=t(116),ia=t(112),oa=t(118),sa=t(10),ua=t(113),ma=t(23),da=$.VERIFY_USER,ga=new ca.a({dataIdFromObject:function(e){return e._id||null}}),pa=Object(ua.a)((function(e){var a=e.graphQLErrors;a&&a.map((function(e){var a=e.message;return console.log(a)}))})),Ea=(window.location.hostname,Object(oa.a)({uri:"/grapqhql",headers:{authorization:localStorage.getItem("auth-token")}}));(function(){var e=Object(l.a)(r.a.mark((function e(){var a,t,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ia.persistCache)({cache:ga,storage:window.localStorage});case 2:a=new la.c({link:ma.a.from([pa,Ea]),cache:ga,onError:function(e){var a=e.networkError,t=e.graphQLErrors;console.log("graphQLErrors",t),console.log("networkError",a)},resolvers:{}}),t=localStorage.getItem("auth-token"),n=localStorage.getItem("userId"),ga.writeData({data:{isLoggedIn:Boolean(t),userId:n}}),t&&a.mutate({mutation:da,variables:{token:t}}).then((function(e){var a=e.data;ga.writeData({data:{isLoggedIn:a.verifyUser.loggedIn,userId:a.verifyUser.id}})})),l=function(){return i.a.createElement(sa.a,{client:a},i.a.createElement(ra.a,null,i.a.createElement(na,null)))},s.a.render(i.a.createElement(l,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}},[[125,1,2]]]);
//# sourceMappingURL=main.afa7cb40.chunk.js.map