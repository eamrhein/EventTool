{"version":3,"sources":["components/FormFieldLabel.js","components/Spinner.js","components/TimeInput.js","components/LoginForm.js","components/index.js","components/AccountList.js","components/SearchDropdown.js"],"names":["FormFieldLabel","props","required","label","rest","direction","color","spinning","version","viewBox","width","height","fill","opacity","d","attributeName","type","from","to","dur","repeatCount","Spinner","Box","align","justify","TimeInput","error","MaskedInput","mask","length","regexp","placeholder","fixed","options","LoginForm","email","setEmail","password","setPassword","action","demo","inputRef","useRef","timerId","useEffect","mounted","i","string","current","setInterval","slice","click","clearInterval","Form","onSubmit","e","preventDefault","variables","FormField","info","TextInput","icon","Mail","value","onChange","target","style","Text","fontStyle","fontFamily","size","Button","ref","alignSelf","primary","DELETE_API_KEY","Mutations","FETCH_ACCOUNT","Queries","FETCH_USER","AccountCard","apikey","id","userId","selectedKey","setSelectedKey","useState","hover","sethover","useMutation","onError","err","message","split","console","log","update","cache","deleteAPIkey","data","readQuery","query","writeQuery","user","apikeys","deleteAPI","useQuery","loading","fontWeight","account","focusIndicator","key","border","background","light","dark","as","cursor","onClick","pad","level","truncate","onMouseEnter","onMouseLeave","AccountList","resetForm","columns","count","margin","gap","map","SearchInputContext","createContext","sortLocations","selectedLocationName","p1","p2","p1Exists","includes","p2Exists","City","toLowerCase","SearchDropdown","venues","setFieldValue","values","test","sort","locations","setLocations","searching","setSearching","searchQuery","setSearchQuery","selectRef","filterLocations","filter","s","indexOf","setTimeout","clearTimeout","renderOption","flex","tabIndex","checked","some","partner","Provider","closeOnChange","searchPlaceholder","emptySearchMessage","multiple","replace","valueKey","labelKey","left","vertical","round","horizontal","minWidth","join","href","onFocus","event","stopPropagation","focus","option","newSelectedLocation","seasonIndex","splice","push","selectedLocation","sortedLocation","handleChange","onSearch"],"mappings":"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","file":"static/js/1.03b169d7.chunk.js","sourcesContent":["import React from \"react\";\nimport { FormField, Box, Text } from \"grommet\";\n\nexport const FormFieldLabel = props => {\n  const { required, label, ...rest } = props;\n  return (\n    <FormField\n      label={\n        required ? (\n          <Box direction=\"row\">\n            <Text>{label}</Text>\n            <Text color=\"status-critical\">*</Text>\n          </Box>\n        ) : (\n          label\n        )\n      }\n      required={required}\n      {...rest}\n    ></FormField>\n  );\n};\n","import React from \"react\";\nimport { Box } from \"grommet\";\n\nconst spinning = (\n  <svg\n    version=\"1.1\"\n    viewBox=\"0 0 32 32\"\n    width=\"68px\"\n    height=\"68px\"\n    fill=\"#f05537\"\n  >\n    <path\n      opacity=\".25\"\n      d=\"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4\"\n    />\n    <path d=\"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z\">\n      <animateTransform\n        attributeName=\"transform\"\n        type=\"rotate\"\n        from=\"0 16 16\"\n        to=\"360 16 16\"\n        dur=\"0.8s\"\n        repeatCount=\"indefinite\"\n      />\n    </path>\n  </svg>\n);\n\nexport const Spinner = () => (\n  <Box align=\"center\" justify=\"center\">\n    {spinning}\n  </Box>\n);\n\nexport default Spinner;\n","import React from \"react\";\nimport { MaskedInput } from \"grommet\";\nimport { FormFieldLabel } from \"./FormFieldLabel\";\n\nexport const TimeInput = (props) => {\n  let { label, required, error, ...rest } = props;\n  return (\n    <FormFieldLabel error={error} label={label} required={required}>\n      <MaskedInput\n        mask={[\n          {\n            length: [1, 2],\n            regexp: /^1[0,1-2]$|^0?[1-9]$|^0$/,\n            placeholder: \"Hour\",\n          },\n          { fixed: \":\" },\n          {\n            length: 2,\n            options: [\"00\", \"15\", \"30\", \"45\"],\n            regexp: /^[0-5][0-9]$|^[0-9]$/,\n            placeholder: \"Min\",\n          },\n          { fixed: \" \" },\n          {\n            length: 2,\n            options: [\"AM\", \"PM\"],\n            regexp: /^[ap]m$|^[AP]M$|^[aApP]$/,\n            placeholder: \"AM/PM\",\n          },\n        ]}\n        {...rest}\n      />\n    </FormFieldLabel>\n  );\n};\n","import React, { useRef, useEffect } from \"react\";\nimport { Box, Form, FormField, TextInput, Button, Text } from \"grommet\";\nimport { Mail } from \"grommet-icons\";\n\nexport const LoginForm = ({\n  email,\n  setEmail,\n  password,\n  setPassword,\n  error,\n  action,\n  demo,\n}) => {\n  const inputRef = useRef(null);\n  const timerId = useRef();\n  useEffect(() => {\n    let mounted = true;\n    if (demo && mounted) {\n      let i = 0;\n      let string = \"demo@demo.com123456\";\n      timerId.current = setInterval(() => {\n        if (i <= 13) {\n          setEmail(string.slice(0, i));\n        } else if (i < string.length && i > 13) {\n          setPassword(string.slice(13, i + 1));\n        } else {\n          inputRef.current.click();\n        }\n        i++;\n      }, 100);\n    }\n    return () => {\n      mounted = false;\n      clearInterval(timerId.current);\n    };\n  }, [demo, setEmail, setPassword]);\n\n  return (\n    <Form\n      align=\"start\"\n      onSubmit={(e) => {\n        e.preventDefault();\n        action({\n          variables: {\n            email,\n            password,\n          },\n        });\n      }}\n    >\n      <FormField info=\"Email Address\">\n        <TextInput\n          icon={<Mail />}\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"example@example.com\"\n        />\n      </FormField>\n      <FormField info=\"Password\">\n        <TextInput\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n      </FormField>\n      <Box style={{ color: \"Red\" }} align=\"center\" height=\"20px\">\n        <Text\n          style={{ fontStyle: \"italic\", fontFamily: \"Fira Sans\" }}\n          size=\"large\"\n        >\n          {error}\n        </Text>\n      </Box>\n      <Box>\n        <Button\n          ref={inputRef}\n          size=\"large\"\n          alignSelf=\"end\"\n          type=\"submit\"\n          primary\n          label=\"Submit\"\n        />\n      </Box>\n    </Form>\n  );\n};\n","export * from \"./AccountList\";\nexport * from \"./FormFieldLabel\";\nexport * from \"./SearchDropdown\";\nexport * from \"./Spinner\";\nexport * from \"./TimeInput\";\nexport * from \"./LoginForm\";\n","import React, { useState } from \"react\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport Queries from \"../graphql/queries\";\nimport Mutations from \"../graphql/mutations\";\nimport { Box, Text, Grid, Heading } from \"grommet\";\nimport { FormTrash } from \"grommet-icons\";\nconst { DELETE_API_KEY } = Mutations;\nconst { FETCH_ACCOUNT, FETCH_USER } = Queries;\n\nfunction AccountCard({ apikey, id, userId, selectedKey, setSelectedKey }) {\n  const [hover, sethover] = useState(false);\n  const [deleteAPI] = useMutation(DELETE_API_KEY, {\n    onError: (err) => {\n      const message = err.message.split(\":\")[1];\n      console.log(message);\n    },\n    update(cache, { data: { deleteAPIkey } }) {\n      let data = cache.readQuery({\n        query: FETCH_USER,\n        variables: { userId },\n      });\n      cache.writeQuery({\n        query: FETCH_USER,\n        variables: { userId },\n        data: {\n          user: {\n            ...data.user,\n            apikeys: deleteAPIkey.apikeys,\n          },\n        },\n      });\n    },\n  });\n  const { loading, data, error } = useQuery(FETCH_ACCOUNT, {\n    variables: {\n      apikey,\n    },\n  });\n  if (error)\n    return (\n      <h3 style={{ color: \"red\", fontWeight: \"bolder\" }}>\n        {error.message.split(\":\")[1]}\n      </h3>\n    );\n  if (loading) return null;\n  let { account } = data;\n  return (\n    <Box\n      focusIndicator={false}\n      key={id}\n      direction=\"row\"\n      justify=\"center\"\n      align=\"center\"\n      border={\n        apikey === selectedKey\n          ? {\n              color: \"brand\",\n              size: \"small\",\n            }\n          : {\n              size: \"small\",\n            }\n      }\n      background={{ light: \"light-2\", dark: \"dark-1\" }}\n      as=\"button\"\n      type=\"button\"\n      style={{ cursor: \"pointer\" }}\n      onClick={() => {\n        setSelectedKey(apikey);\n        // resetForm();\n      }}\n    >\n      <Box pad=\"xsmall\">\n        <Heading level=\"5\" truncate>\n          {account.email}\n        </Heading>\n      </Box>\n      <FormTrash\n        onMouseEnter={() => sethover(true)}\n        onMouseLeave={() => sethover(false)}\n        onClick={(e) => {\n          e.preventDefault();\n          deleteAPI({\n            variables: {\n              id: userId,\n              apikey,\n            },\n          });\n        }}\n        color={hover ? \"status-error\" : \"status-disabled\"}\n      />\n    </Box>\n  );\n}\n\nfunction AccountList({ user, selectedKey, setSelectedKey, resetForm }) {\n  if (user.apikeys.length > 0) {\n    return (\n      <Grid\n        columns={{\n          count: user.apikeys.length < 4 ? user.apikeys.length : 4,\n          size: \"xsmall\",\n        }}\n        margin=\"small\"\n        gap=\"small\"\n      >\n        {user.apikeys.map((apikey, id) => (\n          <AccountCard\n            resetForm={resetForm}\n            key={id}\n            apikey={apikey}\n            userId={user.id}\n            id={id}\n            selectedKey={selectedKey}\n            setSelectedKey={setSelectedKey}\n          />\n        ))}\n      </Grid>\n    );\n  } else {\n    return (\n      <Box width=\"100vw\">\n        <Box margin=\"medium\">\n          <Text pad=\"small\">\n            Please add the secret keys from the accounts you want to post with.\n          </Text>\n        </Box>\n      </Box>\n    );\n  }\n}\n\nexport default AccountList;\n","import React, { useRef, useState, useEffect, createContext } from \"react\";\nimport { FormClose } from \"grommet-icons\";\nimport { Box, Button, CheckBox, Select, Text } from \"grommet\";\nimport { FormFieldLabel } from \"./FormFieldLabel\";\nimport test from \"./locations.json\";\nconst SearchInputContext = createContext({});\n\nconst sortLocations = (selectedLocationName) => {\n  return (p1, p2) => {\n    const p1Exists = selectedLocationName.includes(p1.id);\n    const p2Exists = selectedLocationName.includes(p2.id);\n\n    if (!p1Exists && p2Exists) {\n      return 1;\n    }\n    if (p1Exists && !p2Exists) {\n      return -1;\n    }\n    if (p1.City.toLowerCase() < p2.City.toLowerCase()) {\n      return -1;\n    }\n    return 1;\n  };\n};\n\nconst SearchDropdown = ({ venues, setFieldValue, values, ...props }) => {\n  const [locations, setLocations] = useState(test.sort(sortLocations(\"\")));\n  const [searching, setSearching] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const selectRef = useRef();\n  const clearLocations = () => {\n    setFieldValue(\"locations\", []);\n  };\n\n  let timerId = useRef();\n\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      const filterLocations = test.filter(\n        (s) => s.City.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0\n      );\n\n      timerId.current = setTimeout(() => {\n        setSearching(false);\n        setLocations(filterLocations);\n      }, 500);\n    }\n    return () => {\n      clearTimeout(timerId.current);\n      mounted = false;\n    };\n  }, [searching, searchQuery, test]);\n\n  const renderOption = ({ City }) => (\n    <Box direction=\"row\" align=\"center\" pad=\"small\" flex={false}>\n      <CheckBox\n        tabIndex=\"-1\"\n        checked={values.locations.some((partner) => partner.City === City)}\n        label={<Text size=\"small\">{City}</Text>}\n        onChange={() => {}}\n      />\n    </Box>\n  );\n\n  const renderLocations = () => (\n    <Box\n      direction=\"row\"\n      gap=\"xsmall\"\n      pad={{ left: \"small\", vertical: \"small\" }}\n      align=\"center\"\n      flex\n    >\n      <Box\n        background=\"brand\"\n        round=\"medium\"\n        align=\"center\"\n        justify=\"center\"\n        pad={{ horizontal: \"xsmall\" }}\n        style={{ minWidth: \"21px\" }}\n      >\n        <Text size=\"small\">{values.locations.length}</Text>\n      </Box>\n      <Box flex>\n        <Text size=\"small\" truncate>\n          {values.locations.map(({ City }) => City).join(\", \")}\n        </Text>\n      </Box>\n      <Button\n        href=\"#\"\n        onFocus={(event) => event.stopPropagation()}\n        onClick={(event) => {\n          event.preventDefault();\n          event.stopPropagation();\n          clearLocations();\n          selectRef.current.focus();\n        }}\n      >\n        <Box background=\"accent-4\" round=\"full\">\n          <FormClose style={{ width: \"12px\", height: \"12px\" }} />\n        </Box>\n      </Button>\n    </Box>\n  );\n  const handleChange = (option) => {\n    const newSelectedLocation = [...values.locations];\n    const seasonIndex = newSelectedLocation\n      .map(({ City }) => City)\n      .indexOf(option.City);\n    if (seasonIndex >= 0) {\n      newSelectedLocation.splice(seasonIndex, 1);\n    } else {\n      newSelectedLocation.push(option);\n    }\n    const selectedLocation = newSelectedLocation.map(({ City }) => City);\n    const sortedLocation = [...test].sort(sortLocations(selectedLocation));\n    setFieldValue(\"locations\", newSelectedLocation);\n    setLocations(sortedLocation);\n  };\n  return (\n    <SearchInputContext.Provider>\n      <FormFieldLabel {...props}>\n        <Select\n          ref={selectRef}\n          closeOnChange={false}\n          placeholder=\"Select a location\"\n          searchPlaceholder=\"Search for Location\"\n          emptySearchMessage=\"No locations found, please add some locations\"\n          multiple\n          replace={false}\n          valueKey=\"City\"\n          labelKey=\"City\"\n          value={values.locations.length ? renderLocations() : []}\n          options={locations}\n          onChange={({ option }) => handleChange(option)}\n          onSearch={(query) => {\n            setSearching(true);\n            setSearchQuery(query);\n          }}\n        >\n          {renderOption}\n        </Select>\n      </FormFieldLabel>\n    </SearchInputContext.Provider>\n  );\n};\n\nexport default SearchDropdown;\n"],"sourceRoot":""}