(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{128:function(e,t,a){e.exports=a(162)},134:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var n=a(73),r=a.n(n),l=a(91),c=a(0),i=a.n(c),o=a(41),u=a.n(o),s=(a(134),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function m(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");s?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):d(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):d(t,e)}))}}function d(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var g=a(9),p=a(40),f=a(42),E=a(179),b=a(20),h=a(27),v=a.n(h);function y(){var e=Object(b.a)(["\n    query fetchCategories($apikey: String!) {\n      categories(apikey: $apikey) {\n        name\n        id\n      }\n      subcategories(apikey: $apikey) {\n        name\n        id\n        parent\n      }\n      types(apikey: $apikey) {\n        name\n        id\n      }\n      account(apikey: $apikey) {\n        name\n        organizations {\n          id\n          name\n        }\n      }\n    }\n  "]);return y=function(){return e},e}function O(){var e=Object(b.a)(["\n    query fetchAccount($apikey: String!) {\n      account(apikey: $apikey) {\n        id\n        first_name\n        last_name\n        apikey\n        name\n        email\n        is_public\n        image_id\n        organizations {\n          id\n          name\n        }\n      }\n    }\n  "]);return O=function(){return e},e}function j(){var e=Object(b.a)(["\n    query fetchAccounts($apikeys: [String!]) {\n      accounts(apikeys: $apikeys) {\n        id\n        first_name\n        last_name\n        apikey\n        name\n        email\n        is_public\n        image_id\n        organizations {\n          id\n          name\n        }\n      }\n    }\n  "]);return j=function(){return e},e}function k(){var e=Object(b.a)(["\n    query fetchUser($userId: ID!) {\n      user(id: $userId) {\n        id\n        email\n        apikeys\n        jobs {\n          data\n          status\n          schedule\n        }\n      }\n    }\n  "]);return k=function(){return e},e}function w(){var e=Object(b.a)(["\n    query fetchUserId {\n      userId @client\n    }\n  "]);return w=function(){return e},e}function S(){var e=Object(b.a)(["\n    query IsUserLoggedIn {\n      isLoggedIn @client\n    }\n  "]);return S=function(){return e},e}var I={IS_LOGGED_IN:v()(S()),FETCH_USER_ID:v()(w()),FETCH_USER:v()(k()),FETCH_ACCOUNTS:v()(j()),FETCH_ACCOUNT:v()(O()),FETCH_CATEGORIES_AND_SUBCATEGORIES_AND_TYPES:v()(y())},C=I.IS_LOGGED_IN,x=function(e){var t=e.component,a=e.path,n=e.exact,r=e.routeType,l=Object(p.a)(e,["component","path","exact","routeType"]);return i.a.createElement(E.a,{query:C},(function(e){var c=e.data;return"auth"===r?i.a.createElement(f.b,{path:a,exact:n,render:function(e){return c.isLoggedIn?i.a.createElement(f.a,{to:"/"}):i.a.createElement(t,Object.assign({},e,l))}}):i.a.createElement(f.b,Object.assign({},l,{render:function(e){return c.isLoggedIn?i.a.createElement(t,Object.assign({},e,l)):i.a.createElement(f.a,{to:"/login"})}}))}))},A=a(45),_=a(15);function $(){var e=Object(b.a)(["\n    mutation submitForm($id: ID!, $date: String!, $data: String!) {\n      scheduleEvent(id: $id, date: $date, data: $data) {\n        id\n        email\n        apikeys\n        jobs {\n          data\n          status\n          schedule\n        }\n      }\n    }\n  "]);return $=function(){return e},e}function z(){var e=Object(b.a)(["\n    mutation deleteAPIkey($id: ID!, $apikey: String!) {\n      deleteAPIkey(id: $id, apikey: $apikey) {\n        id\n        email\n        apikeys\n      }\n    }\n  "]);return z=function(){return e},e}function T(){var e=Object(b.a)(["\n    mutation pushAPIkey($id: ID!, $apikey: String!) {\n      pushAPIkey(id: $id, apikey: $apikey) {\n        id\n        email\n        apikeys\n      }\n    }\n  "]);return T=function(){return e},e}function L(){var e=Object(b.a)(["\n    mutation VerifyUser($token: String!) {\n      verifyUser(token: $token) {\n        id\n        loggedIn\n      }\n    }\n  "]);return L=function(){return e},e}function P(){var e=Object(b.a)(["\n    mutation RegisterUser($email: String!, $password: String!) {\n      register(email: $email, password: $password) {\n        id\n        token\n        loggedIn\n      }\n    }\n  "]);return P=function(){return e},e}function F(){var e=Object(b.a)(["\n    mutation LoginUser($email: String!, $password: String!) {\n      login(email: $email, password: $password) {\n        id\n        token\n        loggedIn\n      }\n    }\n  "]);return F=function(){return e},e}var D={LOGIN_USER:v()(F()),REGISTER_USER:v()(P()),VERIFY_USER:v()(L()),PUSH_API_KEY:v()(T()),DELETE_API_KEY:v()(z()),SUBMIT_FORM:v()($())},R=a(33),U=a(214),q=a(215),M=a(216),K=a(6),N=a(166),G=a(208),H=a(180),B=D.DELETE_API_KEY,Y=I.FETCH_ACCOUNT,W=I.FETCH_USER;function Q(e){var t=e.apikey,a=e.id,n=e.userId,r=e.selectedKey,l=e.setSelectedKey,o=Object(c.useState)(!1),u=Object(g.a)(o,2),s=u[0],m=u[1],d=Object(_.b)(B,{onError:function(e){var t=e.message.split(":")[1];console.log(t)},update:function(e,t){var a=t.data.deleteAPIkey,r=e.readQuery({query:W,variables:{userId:n}});e.writeQuery({query:W,variables:{userId:n},data:{user:Object(K.a)(Object(K.a)({},r.user),{},{apikeys:a.apikeys})}})}}),p=Object(g.a)(d,1)[0],f=Object(_.c)(Y,{variables:{apikey:t}}),E=f.loading,b=f.data,h=f.error;if(h)return i.a.createElement("h3",{style:{color:"red",fontWeight:"bolder"}},h.message.split(":")[1]);if(E)return null;var v=b.account;return i.a.createElement(R.a,{focusIndicator:!1,width:"100vw",key:a,direction:"row",border:t===r?{color:"brand",size:"small"}:{size:"small"},background:{light:"light-2",dark:"dark-1"},as:"button",style:{cursor:"pointer"},onClick:function(){return l(t)}},i.a.createElement(R.a,{pad:"xsmall",direction:"column"},i.a.createElement(N.a,{size:"xsmall",truncate:!0},i.a.createElement(N.a,{size:"xsmall",weight:"bold"},"Account Name:")," ",v.name),i.a.createElement(N.a,{size:"xsmall",truncate:!0},i.a.createElement(N.a,{size:"xsmall",weight:"bold"},"Email:")," ",v.email),i.a.createElement(N.a,{size:"xsmall",truncate:!0},i.a.createElement(N.a,{size:"xsmall",weight:"bold"},"API_KEY:")," ",v.apikey)),i.a.createElement("div",{style:{width:"25px",padding:"3px"}},i.a.createElement(H.a,{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},onClick:function(e){e.preventDefault(),p({variables:{id:n,apikey:t}})},color:s?"status-error":"status-disabled"})))}var V=function(e){var t=e.user,a=e.selectedKey,n=e.setSelectedKey;return t.apikeys.length>0?i.a.createElement(G.a,{columns:{count:t.apikeys.length%4,size:"xsmall"},margin:"small",gap:"small"},t.apikeys.map((function(e,r){return i.a.createElement(Q,{key:r,apikey:e,userId:t.id,id:r,selectedKey:a,setSelectedKey:n})}))):i.a.createElement(R.a,{width:"100vw"},i.a.createElement(R.a,{margin:"medium"},i.a.createElement(N.a,{pad:"small"},"Please add the secret keys from the accounts you want to post with.")))},X=a(209),J=function(e){var t=e.required,a=e.label,n=Object(p.a)(e,["required","label"]);return i.a.createElement(X.a,Object.assign({label:t?i.a.createElement(R.a,{direction:"row"},i.a.createElement(N.a,null,a),i.a.createElement(N.a,{color:"status-critical"},"*")):a,required:t},n))},Z=a(183),ee=a(211),te=a(125),ae=a(205),ne=Object(c.createContext)({}),re=[{name:"Location 1",id:"32131232"},{name:"Location 2",id:"32131232"},{name:"Location 3",id:"32131242"},{name:"Location 4",id:"32131252"},{name:"Location 5",id:"32131262"},{name:"Location 6",id:"32131272"},{name:"Location 6",id:"32131272"},{name:"Location 6",id:"32131272"},{name:"Location 6",id:"32131272"},{name:"Location 6",id:"32131272"},{name:"Location 6",id:"32131272"}],le=function(){var e=Object(c.useState)([]),t=Object(g.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(re),l=Object(g.a)(r,2),o=l[0],u=l[1],s=Object(c.useState)(!1),m=Object(g.a)(s,2),d=m[0],p=m[1],f=Object(c.useState)(""),E=Object(g.a)(f,2),b=E[0],h=E[1],v=Object(c.useRef)();Object(c.useEffect)((function(){var e=re.filter((function(e){return e.name.toLowerCase().indexOf(b.toLowerCase())>=0}));setTimeout((function(){p(!1),u(e)}),500)}),[d,b]);var y=function(e){var t=e.name;return i.a.createElement(R.a,{direction:"row",align:"center",pad:"small",flex:!1},i.a.createElement(ee.a,{tabIndex:"-1",checked:a.some((function(e){return e.name===t})),label:i.a.createElement(N.a,{size:"small"},t),onChange:function(){}}))};return i.a.createElement(ne.Provider,null,i.a.createElement(J,null,i.a.createElement(ae.a,{ref:v,closeOnChange:!1,placeholder:"Select Content Partners",searchPlaceholder:"Search Content Partners",emptySearchMessage:"No partners found",multiple:!0,value:a.length?i.a.createElement(R.a,{direction:"row",gap:"xsmall",pad:{left:"small",vertical:"small"},align:"center",flex:!0},i.a.createElement(R.a,{background:"brand",round:"medium",align:"center",justify:"center",pad:{horizontal:"xsmall"},style:{minWidth:"21px"}},i.a.createElement(N.a,{size:"small"},a.length)),i.a.createElement(R.a,{flex:!0},i.a.createElement(N.a,{size:"small",truncate:!0},a.map((function(e){return e.name})).join(", "))),i.a.createElement(te.a,{href:"#",onFocus:function(e){return e.stopPropagation()},onClick:function(e){e.preventDefault(),e.stopPropagation(),n([]),v.current.focus()}},i.a.createElement(R.a,{background:"accent-4",round:"full"},i.a.createElement(Z.a,{style:{width:"12px",height:"12px"}})))):void 0,selected:a.map((function(e){return o.indexOf(e)})),options:o,onChange:function(e){return function(e){var t=Object(A.a)(a),r=t.map((function(e){return e.name})).indexOf(e.name);r>=0?t.splice(r,1):t.push(e);var l=t.map((function(e){return e.name})),c=[].concat(re).sort(function(e){return function(t,a){var n=e.includes(t.name),r=e.includes(a.name);return!n&&r?1:n&&!r||t.name.toLowerCase()<a.name.toLowerCase()?-1:1}}(l));n(t),u(c)}(e.option)},onSearch:function(e){p(!0),h(e)}},y)))},ce=i.a.createElement("svg",{version:"1.1",viewBox:"0 0 32 32",width:"68px",height:"68px",fill:"#f05537"},i.a.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),i.a.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"},i.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"0.8s",repeatCount:"indefinite"}))),ie=function(){return i.a.createElement(R.a,{align:"center",justify:"center"},ce)},oe=a(213),ue=function(e){var t=e.label,a=e.required,n=Object(p.a)(e,["label","required"]);return i.a.createElement(J,{label:t,required:a},i.a.createElement(oe.a,Object.assign({mask:[{length:[1,2],regexp:/^1[0,1-2]$|^0?[1-9]$|^0$/,placeholder:"Hour"},{fixed:":"},{length:2,options:["00","15","30","45"],regexp:/^[0-5][0-9]$|^[0-9]$/,placeholder:"Min"},{fixed:" "},{length:2,options:["AM","PM"],regexp:/^[ap]m$|^[AP]M$|^[aApP]$/,placeholder:"AM/PM"}]},n)))},se=a(184),me=a(210),de=a(185),ge=function(e){var t=e.email,a=e.setEmail,n=e.password,r=e.setPassword,l=e.error,o=e.action,u=e.demo,s=Object(c.useRef)(null);return Object(c.useEffect)((function(){if(u){console.log("hello");var e=0,t="demo@demo.com123456",n=setInterval((function(){return e<=13?a(t.slice(0,e)):e<t.length&&e>13?r(t.slice(13,e+1)):(s.current.click(),clearInterval(n)),e++,function(){clearInterval(n)}}),100)}}),[a,r,u]),i.a.createElement(se.a,{align:"start",onSubmit:function(e){e.preventDefault(),o({variables:{email:t,password:n}})}},i.a.createElement(X.a,{info:"Email Address"},i.a.createElement(me.a,{icon:i.a.createElement(de.a,null),value:t,onChange:function(e){return a(e.target.value)},placeholder:"example@example.com"})),i.a.createElement(X.a,{info:"Password"},i.a.createElement(me.a,{value:n,onChange:function(e){return r(e.target.value)},type:"password",placeholder:"Password"})),i.a.createElement(R.a,{style:{color:"Red"},align:"center",height:"20px"},i.a.createElement(N.a,{style:{fontStyle:"italic",fontFamily:"Fira Sans"},size:"large"},l)),i.a.createElement(R.a,null,i.a.createElement(te.a,{ref:s,size:"xlarge",alignSelf:"end",type:"submit",primary:!0,label:"Submit"})))},pe=D.LOGIN_USER,fe=D.REGISTER_USER,Ee=function(e){var t=Object(c.useState)(""),a=Object(g.a)(t,2),n=a[0],r=a[1],l=Object(c.useState)(["brand","plain","plain"]),o=Object(g.a)(l,2),u=o[0],s=o[1],m=i.a.useState(0),d=Object(g.a)(m,2),p=d[0],f=d[1],E=Object(c.useState)(""),b=Object(g.a)(E,2),h=b[0],v=b[1],y=Object(c.useState)(""),O=Object(g.a)(y,2),j=O[0],k=O[1],w=Object(_.b)(pe,{onCompleted:function(t){var a=t.login,n=a.token,r=a.id;localStorage.setItem("auth-token",n),localStorage.setItem("userId",r),e.history.push("/")},onError:function(e){var t=e.message.split(":")[1];k(t)},update:function(e,t){!function(e,t){var a=t.data;e.writeData({data:{isLoggedIn:a.login.loggedIn,userId:a.login.id}})}(e,t)}}),S=Object(g.a)(w,1)[0],I=Object(_.b)(fe,{onCompleted:function(e){S({variables:{email:n,password:h}})},onError:function(e){var t=e.message.split(":")[1];k(t+"hello")}}),C=Object(g.a)(I,1)[0];return i.a.createElement(R.a,{width:"100vw",height:"100vh",align:"center",justify:"center"},i.a.createElement(U.a,{level:"1",size:"large",color:"brand",style:{userSelect:"none",fontFamily:"Playball"}},"Event Tool"),i.a.createElement(q.a,{activeIndex:p,onActive:function(e){var t=Object(A.a)(u);t[p]="plain",t[e]="brand",s(Object(A.a)(t)),f(e)},pad:"small",width:"70vw"},i.a.createElement(M.a,{title:i.a.createElement(U.a,{color:u[0],level:"3",weight:"bold"},"Login"),pad:"small"},i.a.createElement(ge,{email:n,setEmail:r,password:h,setPassword:v,error:j,action:S})),i.a.createElement(M.a,{title:i.a.createElement(U.a,{color:u[1],level:"3",weight:"bold"},"Register")},i.a.createElement(ge,{email:n,setEmail:r,password:h,setPassword:v,error:j,action:C})),i.a.createElement(M.a,{title:i.a.createElement(U.a,{color:u[2],level:"3",weight:"bold"},"Demo"),align:"center",pad:"small"},i.a.createElement(ge,{email:n,setEmail:r,password:h,setPassword:v,error:j,action:S,demo:!0}))))},be=a(186),he=a(187),ve=a(188),ye=I.IS_LOGGED_IN,Oe=function(e){var t=e.responsive,a=e.pending,n=e.setPending,r=(e.mode,e.setMode,Object(_.c)(ye)),l=r.data,c=r.error,o=Object(_.a)();if(c)return i.a.createElement("h3",null,"Error: ",c.message);var u=function(e){e.preventDefault(),localStorage.removeItem("auth-token"),localStorage.removeItem("userId"),o.writeData({data:{isLoggedIn:!1,userId:null}})};return"small"===t?i.a.createElement(be.a,null,i.a.createElement(he.a,{alignSelf:"center",dropProps:{align:{top:"bottom",left:"left"}},icon:i.a.createElement(ve.a,null),pad:"small",items:l.isLoggedIn?[{label:i.a.createElement(ee.a,{background:{light:"light-2",dark:"dark-2"},checked:a,label:"Scheduled Events"}),onClick:function(){return n(!a)}},{label:"Logout",onClick:function(e){return u(e)}}]:[]})):i.a.createElement(be.a,null,l.isLoggedIn?i.a.createElement(i.a.Fragment,null,i.a.createElement(R.a,{pad:"medium",direction:"row",align:"center"},i.a.createElement(U.a,{level:"1",color:"brand",style:{userSelect:"none",fontFamily:"Playball"}},"Event Tool")),i.a.createElement(R.a,{direction:"row",gap:"small"},i.a.createElement(R.a,{gap:"small",margin:"medium",direction:"row"},i.a.createElement(te.a,{onClick:function(){n(!a)},style:{fontFamily:"Fira Sans",textDecoration:a?"underline":"none"}},"Scheduled Events")),i.a.createElement(R.a,{gap:"small",margin:"medium",direction:"row"},i.a.createElement(te.a,{style:{fontFamily:"Fira Sans"},weight:"bold",plain:!0,label:"Logout",onClick:u})))):null)},je=a(1),ke=a(62),we=a.n(ke),Se=a(189),Ie=a(190),Ce=a(191),xe=a(192),Ae=a(193);function _e(){var e=Object(b.a)(["\n  @keyframes fadeIn {\n    0% {\n      transition: ease-in;\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  @keyframes fadeOut {\n    0% {\n      opacity: 1;\n      transition: ease-out;\n    }\n    100% {\n      opacity: 0;\n    }\n  }\n"]);return _e=function(){return e},e}var $e=Object(je.default)(R.a)(_e()),ze=function(e){var t=e.user,a=e.pending,n=t.jobs,r=Object(c.useState)(a),l=Object(g.a)(r,2),o=l[0],u=l[1];Object(c.useEffect)((function(){a&&u(!0)}),[a]);return o&&i.a.createElement($e,{width:"93vw",pad:"medium",style:{animation:"".concat(a?"fadeIn":"fadeOut"," 1s")},onAnimationEnd:function(){a||u(!1)}},i.a.createElement(Se.a,null,i.a.createElement(Ie.a,null,i.a.createElement(Ce.a,null,i.a.createElement(xe.a,{scope:"col",border:"bottom"},"Date"),i.a.createElement(xe.a,{scope:"col",border:"bottom"},"Status"))),i.a.createElement(Ae.a,null,n.map((function(e,t){var a=new Date(e.schedule);return i.a.createElement(Ce.a,{key:t},i.a.createElement(xe.a,null,we()(a).format("dddd, MMMM Do YYYY, h:mm:ss a")),i.a.createElement(xe.a,null,e.status))})))))},Te=a(218),Le=a(194),Pe=I.FETCH_USER,Fe=D.PUSH_API_KEY;var De=function(e){var t=e.user,a=e.selectedKey,n=e.setSelectedKey,r=t.apikeys,l=Object(c.useState)(!0),o=Object(g.a)(l,2),u=o[0],s=o[1],m=Object(c.useState)(!1),d=Object(g.a)(m,2),p=d[0],f=d[1];Object(c.useEffect)((function(){n(r[0])}),[r,n]);var E=Object(c.useState)(null),b=Object(g.a)(E,2),h=b[0],v=b[1],y=Object(c.useState)(""),O=Object(g.a)(y,2),j=O[0],k=O[1],w=Object(_.b)(Fe,{onError:function(e){var t=e.message.split(":")[1];v(i.a.createElement(N.a,{size:"small"},t)),setTimeout((function(){v(null)}),1e4)},update:function(e,a){var n=a.data.pushAPIkey;e.writeQuery({query:Pe,variables:{userId:t.id},data:{user:Object(K.a)(Object(K.a)({},t),{},{apikeys:n.apikeys})}})}}),S=Object(g.a)(w,1)[0];return i.a.createElement(R.a,{pad:"medium",width:"100vw",justify:"between",flex:!0},i.a.createElement(te.a,{plain:!0,onClick:function(){return s(!u)}},i.a.createElement(U.a,{color:u?"brand":{dark:"light-1",light:"dark-1"},level:"3"},"Eventbrite Accounts")),i.a.createElement(Le.a,{open:u},i.a.createElement(V,{user:t,selectedKey:a,setSelectedKey:n}),i.a.createElement(Le.a,{open:p},i.a.createElement(R.a,{margin:"small"},i.a.createElement(se.a,{onSubmit:function(e){e.preventDefault(),S({variables:{id:t.id,apikey:j}}),k("")}},i.a.createElement(X.a,{error:h,label:"API Key"},i.a.createElement(me.a,{onChange:function(e){return k(e.target.value)},value:j,placeholder:"2HFXXX2G...."})),i.a.createElement(te.a,{type:"submit",color:"neutral-2",label:"Submit",a:!0})))),i.a.createElement(R.a,{align:"end"},i.a.createElement(te.a,{label:"add account",size:"medium",color:"neutral-2",onClick:function(){return f(!p)}}))))},Re=a(195),Ue=a(196),qe=I.FETCH_CATEGORIES_AND_SUBCATEGORIES_AND_TYPES;function Me(e){var t=e.apikey,a=e.form,n=e.setForm,r=Object(c.useState)(!0),l=Object(g.a)(r,2),o=l[0],u=l[1],s=a.title,m=a.location,d=a.category,p=a.subcategory,f=a.type,E=Object(_.c)(qe,{variables:{apikey:t}}),b=E.loading,h=E.data,v=E.error;if(b)return i.a.createElement(R.a,{height:"100vh",justify:"center",align:"center"},i.a.createElement(ie,null));if(v)return console.log(v),null;var y=h.categories.map((function(e){return e.name})),O=h.subcategories.filter((function(e){return e.parent===d})).map((function(e){return e.name})),j=h.types.map((function(e){return e.name})),k=h.account.organizations.map((function(e){var t=e.name;e.id;return t}));return i.a.createElement(R.a,{pad:"medium",width:"100vw",justify:"between",flex:!0},i.a.createElement(te.a,{plain:!0,onClick:function(){return u(!o)}},i.a.createElement(U.a,{color:o?"neutral-2":{dark:"light-1",light:"dark-1"},level:"2"},o?"-":"+"," ",i.a.createElement(Re.a,{color:o?"neutral-2":{dark:"light-1",light:"dark-1"},size:"medium"})," ","Basic Info")),i.a.createElement(Le.a,{open:o},i.a.createElement(R.a,{margin:"small"},i.a.createElement(J,{margin:"small",required:!0,info:i.a.createElement(R.a,{align:"end"},i.a.createElement(N.a,{size:"small"},s.length," / 70")),label:"Event Title"},i.a.createElement(me.a,{maxLength:"70",margin:"small",value:s,onChange:function(e){return n(Object(K.a)(Object(K.a)({},a),{},{title:e.target.value}))},placeholder:"Be clear and descriptive"})),i.a.createElement(R.a,{margin:"small",gap:"small",direction:"row"},i.a.createElement(J,{label:"Type"},i.a.createElement(ae.a,{placeholder:"Conference",value:f,onChange:function(e){var t=e.option;return n(Object(K.a)(Object(K.a)({},a),{},{type:t}))},options:j})),i.a.createElement(J,{label:"Category"},i.a.createElement(ae.a,{placeholder:"Music",value:d,onChange:function(e){var t=e.option;return n(Object(K.a)(Object(K.a)({},a),{},{category:t}))},options:y})),O.length>1?i.a.createElement(J,{label:"Subcategory"},i.a.createElement(ae.a,{value:p,onChange:function(e){var t=e.option;return n(Object(K.a)(Object(K.a)({},a),{},{subcategory:t}))},options:O})):null),i.a.createElement(J,{label:"Organizer",margin:"small"},i.a.createElement(ae.a,{value:k[0],options:k}))),i.a.createElement(U.a,{level:"2"},i.a.createElement(Ue.a,null)," Locations"),i.a.createElement(R.a,{margin:"small"},i.a.createElement(J,{label:"Venue",margin:"small",required:!0},i.a.createElement(ae.a,{value:m,onChange:function(e){var t=e.option;return n(Object(K.a)(Object(K.a)({},a),{},{location:t}))},options:["Venue","Online Event","To Be Announced"]})),"Venue"===m?i.a.createElement(J,{margin:"small"},i.a.createElement(le,null)):null)))}var Ke=a(212),Ne=a(207),Ge=a(197);function He(e){var t=e.form,a=e.setForm,n=(e.apikey,e.screenSize),r=Object(p.a)(e,["form","setForm","apikey","screenSize"]),l=Object(c.useState)(!1),o=Object(g.a)(l,2),u=o[0],s=o[1],m=new Date,d=m.getFullYear(),f=m.getDate(),E=m.getMonth(),b=[m.toISOString(),new Date(d+5,E,f).toISOString()],h=function(e,n){"start"===n&&a(Object(K.a)(Object(K.a)({},t),{},{start:Object(K.a)(Object(K.a)({},t.start),{},{time:e.target.value})})),"end"===n&&a(Object(K.a)(Object(K.a)({},t),{},{end:Object(K.a)(Object(K.a)({},t.end),{},{time:e.target.value})}))};return i.a.createElement(R.a,{pad:"medium",width:"100vw",fill:!0},i.a.createElement(te.a,{plain:!0,onClick:function(){return s(!u)}},i.a.createElement(U.a,{color:u?"neutral-2":{dark:"light-1",light:"dark-1"},level:"2"},u?"-":"+"," ",i.a.createElement(Ge.a,{size:"medium",color:u?"neutral-2":{dark:"light-1",light:"dark-1"}})," ","Schedule")),i.a.createElement(Le.a,{open:u},i.a.createElement(J,{pad:!0,help:i.a.createElement(R.a,{pad:"medium",margin:"small",background:{light:"light-4",dark:"dark-4"}},i.a.createElement(Ke.a,Object.assign({name:"single",label:i.a.createElement(R.a,{margin:"xxsmall"},i.a.createElement(N.a,{size:"small"},i.a.createElement(N.a,{size:"small",weight:"bold"},"Single occurrence")," ","- happens once and can last multiple days")),checked:!t.series,onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{series:!1}))}},r)),i.a.createElement(Ke.a,Object.assign({label:i.a.createElement(R.a,{margin:"xxsmall"},i.a.createElement(N.a,{size:"small"},i.a.createElement(N.a,{size:"small",weight:"bold"},"Recurring events")," ","- repeats or occurs more than once")),name:"series",checked:t.series,onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{series:!0}))}},r))," ")},t.series?i.a.createElement(R.a,{justify:"center",margin:"small",direction:"small"===n?"column":"row"},i.a.createElement(Ne.a,{bounds:b,size:"medium",range:!0}),i.a.createElement(R.a,{pad:"small",justify:"center"},i.a.createElement(ue,{label:"Start Time:",value:t.start.time,onChange:function(e){return h(e,"start")},required:!0}),i.a.createElement(ue,{label:"End Time:",value:t.end.time,onChange:function(e){return h(e,"end")},required:!0}),i.a.createElement(J,{label:"Occurs:"},i.a.createElement(ae.a,{value:t.recurrence.occurs,options:["Daily","Weekly","Monthly"],onChange:function(e){var n=e.option;return a(Object(K.a)(Object(K.a)({},t),{},{recurrence:Object(K.a)(Object(K.a)({},t.recurrence),{},{occurs:n})}))}})),i.a.createElement(J,{info:"Event repeats "+t.recurrence.times+(t.recurrence.times>1?" times.":" time.")},i.a.createElement(me.a,{value:t.recurrence.times,onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{recurrence:Object(K.a)(Object(K.a)({},t.recurrence),{},{times:e.target.value})}))}})))):i.a.createElement(R.a,{justify:"around",margin:"small",direction:"small"===n?"column":"row"},i.a.createElement(Ne.a,{bounds:b,size:"medium",onSelect:function(e){2===e[0].length&&a(Object(K.a)(Object(K.a)({},t),{},{start:Object(K.a)(Object(K.a)({},t.start),{},{date:e[0][0]}),end:Object(K.a)(Object(K.a)({},t.end),{},{date:e[0][1]})}))},range:!0}),i.a.createElement(R.a,{pad:"small",justify:"center"},i.a.createElement(ue,{label:"Start Time:",value:t.start.time,onChange:function(e){return h(e,"start")},required:!0}),i.a.createElement(ue,{label:"End Time:",value:t.end.time,onChange:function(e){return h(e,"end")},required:!0}))))))}var Be=a(110),Ye=a(111),We=a(122),Qe=a(118),Ve=a(119),Xe=a(217),Je=a(198),Ze=function(e){Object(We.a)(a,e);var t=Object(Qe.a)(a);function a(){var e;Object(Be.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={editor:"",open:!1},e}return Object(Ye.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.form,n=t.setForm,r=function(e){n(Object(K.a)(Object(K.a)({},a),{},{description:e.target.getContent()}))};return i.a.createElement(R.a,{pad:"medium",width:"100vw"},i.a.createElement(te.a,{plain:!0,onClick:function(){return e.setState(Object(K.a)(Object(K.a)({},e.state),{},{open:!e.state.open}))}},i.a.createElement(U.a,{color:this.state.open?"neutral-2":{dark:"light-1",light:"dark-1"},level:"2"},this.state.open?"-":"+"," ",i.a.createElement(Je.a,{color:this.state.open?"neutral-2":{dark:"light-1",light:"dark-1"},size:"medium"})," ","Event Description")),i.a.createElement(Le.a,{open:this.state.open},i.a.createElement(R.a,{margin:"small"},i.a.createElement(J,{info:i.a.createElement(R.a,{align:"end"},i.a.createElement(N.a,{size:"small"},a.summary.length," / 140")),label:"Summary"},i.a.createElement(Xe.a,{onChange:function(e){return n(Object(K.a)(Object(K.a)({},a),{},{summary:e.target.value}))},placeholder:"Write a short event summary to get attendees excited",resize:!1}))),i.a.createElement(R.a,{margin:"small"},i.a.createElement(Ve.a,{apiKey:"l4239s08cwmf7d2qxig6hsvhyihcglbothx4eb7vkgtlxkic",initialValue:a.description,init:{height:400,resize:!1,menubar:!1,plugins:["advlist autolink lists link image imagetools","charmap print preview anchor help","searchreplace visualblocks code","insertdatetime media table paste wordcount"],toolbar:"undo redo | formatselect | bold italic | bullist numlist | image"},onChange:r,onBlur:r}))))}}]),a}(i.a.Component),et=a(203),tt=a(199),at=a(200),nt=function(e){var t=e.form,a=e.setForm,n=e.screenSize,r=Object(c.useState)("paid"),l=Object(g.a)(r,2),o=l[0],u=l[1],s=Object(c.useState)(!1),m=Object(g.a)(s,2),d=m[0],p=m[1],f=Object(c.useState)({name:"General Admission",quantity:100,price:"$0.00",num:0}),E=Object(g.a)(f,2),b=E[0],h=E[1];return i.a.createElement(R.a,{pad:"medium",width:"100vw"},i.a.createElement(te.a,{plain:!0,onClick:function(){return p(!d)}},i.a.createElement(U.a,{color:d?"neutral-2":{dark:"light-1",light:"dark-1"},level:"2"},d?"-":"+"," ",i.a.createElement(tt.a,{color:d?"neutral-2":{dark:"light-1",light:"dark-1"},size:"medium"})," ","Tickets")),i.a.createElement(Le.a,{open:d},i.a.createElement(R.a,{gap:"medium",justify:"center",direction:"small"===n?"column":"row"},i.a.createElement(R.a,{pad:"small",width:"small"===n?"100%":"50%"},i.a.createElement(R.a,{gap:"medium",justify:"center",pad:"small",direction:"row"},i.a.createElement(R.a,{focusIndicator:!1,as:"button",pad:"medium",border:"paid"===o?{size:"small",color:"brand"}:{size:"small"},background:{light:"light-2",dark:"dark-1"},style:"paid"===o?{userSelect:"none",background:"rgba(240, 85, 55, 0.2)"}:{userSelect:"none"},onClick:function(){return u("paid")}},i.a.createElement(N.a,null,"Paid")),i.a.createElement(R.a,{focusIndicator:!1,as:"button",border:"free"===o?{size:"small",color:"brand"}:{size:"small"},onClick:function(){h(Object(K.a)(Object(K.a)({},b),{},{price:"$0.00"})),u("free")},background:{light:"light-2",dark:"dark-1"},style:"free"===o?{userSelect:"none",background:"rgba(240, 85, 55, 0.2)"}:{userSelect:"none"},pad:"medium"},i.a.createElement(N.a,null,"Free"))),i.a.createElement(J,{label:"Name",required:!0},i.a.createElement(me.a,{value:"General Admission"===b.name?"":b.name,placeholder:b.name,onChange:function(e){return h(Object(K.a)(Object(K.a)({},b),{},{name:e.target.value}))}})),i.a.createElement(J,{label:"Quantity",required:!0},i.a.createElement(oe.a,{value:b.quantity,mask:[{length:[1,6],regexp:/^([0-9]*[1-9][0-9]*(\.[0-9]+)?|[0]+\.[0-9]*[1-9][0-9]*)$/}],onChange:function(e){return h(Object(K.a)(Object(K.a)({},b),{},{quantity:e.target.value}))}})),i.a.createElement(J,{label:"Price",required:"paid"===o,disabled:"free"===o,style:{position:"relative"}},i.a.createElement(oe.a,{icon:i.a.createElement(at.a,null),onBlur:function(){b.price.split(".").length<2&&h(Object(K.a)(Object(K.a)({},b),{},{price:b.price+".00"}))},mask:[{fixed:"$"},{length:[1,5],regexp:/^\d{1,5}$/},{fixed:"."},{length:[2],regexp:/^[0-9]/,placeholder:"00"}],placeholder:"$0.00"===b.price?"Free":null,value:"$0.00"===b.price?"":b.price,disabled:"free"===o,onChange:function(e){return h(Object(K.a)(Object(K.a)({},b),{},{price:e.target.value}))}})),i.a.createElement(R.a,{alignSelf:"center",width:"30%"},i.a.createElement(te.a,{primary:!0,onClick:function(e){h(Object(K.a)(Object(K.a)({},b),{},{num:b.num+1})),a(Object(K.a)(Object(K.a)({},t),{},{tickets:[].concat(Object(A.a)(t.tickets),[b])}))},size:"medium",label:"Create Ticket"}))),i.a.createElement(R.a,{pad:"small",width:"small"===n?"100%":"50%"},t.tickets.length>0?i.a.createElement(R.a,{width:"100%",align:"center"},i.a.createElement(et.a,{primaryKey:"num",columns:[{property:"name",header:i.a.createElement(N.a,null,"Name")},{property:"quantity",header:i.a.createElement(N.a,null,"Qty")},{property:"price",header:i.a.createElement(N.a,null,"Price"),render:function(e){return"$0.00"===e.price?"Free":e.price}},{property:"num",render:function(e){return i.a.createElement(R.a,{round:"full",overflow:"hidden"},i.a.createElement(te.a,{size:"small",hoverIndicator:"accent-1",onClick:function(){a(Object(K.a)(Object(K.a)({},t),{},{tickets:t.tickets.filter((function(t){return t.num!==e.num}))}))},icon:i.a.createElement(H.a,null)}))}}],data:t.tickets})):i.a.createElement(R.a,{height:"100%",align:"center",justify:"center"},i.a.createElement(N.a,null,"Add Ticket"))))))};function rt(){var e=Object(b.a)(["\n  @keyframes fadeIn {\n    0% {\n      transition: ease-in;\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  @keyframes fadeOut {\n    0% {\n      opacity: 1;\n      transition: ease-out;\n    }\n    100% {\n      opacity: 0;\n    }\n  }\n"]);return rt=function(){return e},e}var lt=D.SUBMIT_FORM,ct=I.FETCH_USER,it={active_tab:"Basic Info",title:"",location:"Venue",category:"Category",subcategory:"subcategory",type:"Type",summary:"",description:"",start:{date:(new Date).toISOString(),time:""},end:{date:(new Date).toISOString(),time:""},series:!1,recurrence:{times:1,occurs:"Daily"},tickets:[]},ot=Object(je.default)(R.a)(rt());var ut=function(e){var t=e.user,a=e.responsive,n=e.history,r=e.pending,l=e.defaultKey,o=Object(c.useState)(it),u=Object(g.a)(o,2),s=u[0],m=u[1],d=Object(c.useState)(l),p=Object(g.a)(d,2),f=p[0],E=p[1],b=Object(_.b)(lt,{onError:function(e){console.log(e)},update:function(e,a){var n=a.data.scheduleEvent;e.writeQuery({query:ct,variables:{userId:t.id},data:{user:Object(K.a)({},n)},fetchPolicy:"no-cache"})}}),h=(Object(g.a)(b,1)[0],we()(new Date).add("10","seconds").toISOString(),Object(c.useState)(!0)),v=Object(g.a)(h,2),y=v[0],O=v[1];return Object(c.useEffect)((function(){r||O(!0)}),[r]),y&&i.a.createElement(ot,{onAnimationEnd:function(){r&&O(!1)},style:{animation:"".concat(r?"fadeOut":"fadeIn"," 1s")},value:s,pad:"medium"},i.a.createElement(De,{user:t,selectedKey:f,setSelectedKey:E,history:n}),t.apikeys&&t.apikeys.length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(Me,{form:s,setForm:m,apikey:f}),i.a.createElement(He,{screenSize:a,form:s,setForm:m,apikey:f}),i.a.createElement(Ze,{form:s,setForm:m,apikey:f}),i.a.createElement(nt,{screenSize:a,form:s,setForm:m})):i.a.createElement(R.a,{width:{min:"100%"},pad:"large",justify:"center"},i.a.createElement(U.a,{textAlign:"center",margin:"small",level:"1"},"Welcome to Event Tool"),i.a.createElement(U.a,{fill:!0,margin:"small",level:"3"},"How to use this application:"),i.a.createElement(Te.a,{fill:!0,margin:"small"},"In order to use this application you need to add the secret keys from the accounts you want to use.")))},st=I.FETCH_USER_ID,mt=I.FETCH_USER;var dt=function(e){var t=e.responsive,a=e.pending,n=Object(_.c)(st),r=n.data.userId,l=n.error,c=n.loading,o=Object(_.c)(mt,{variables:{userId:r},fetchPolicy:"no-cache"}),u=o.data,s=o.error,m=o.loading;if(l||s)return i.a.createElement("h3",null,"Error: ",l||s);if(c||m)return i.a.createElement(R.a,{height:"100vh",justify:"center",align:"center"},i.a.createElement(ie,null));var d=u.user,g=d.apikeys[0];return i.a.createElement(R.a,{direction:"row",justify:"start",align:"start",height:"100vh"},i.a.createElement(R.a,null,i.a.createElement(ze,{user:d,pending:a}),i.a.createElement(ut,{pending:a,responsive:t,user:d,defaultKey:g})))},gt=a(201),pt=a(206),ft=a(202),Et=a(114),bt=Object(Et.deepMerge)(gt.a,{defaultMode:"dark",global:{font:{family:"Noto Sans"},colors:{brand:"#f05537","accent-1":"#73a580","accent-2":"#F48668","accent-3":"#c5c392","neutral-1":"#EEA960","neutral-2":"#3659e3","neutral-3":"#47AE6A",inactive:"#6f7287",focus:"none"}}});var ht=function(e){var t=Object(c.useState)(!1),a=Object(g.a)(t,2),n=a[0],r=a[1],l=Object(c.useState)(!1),o=Object(g.a)(l,2),u=o[0],s=o[1];return window.setDarkMode=s,i.a.createElement(pt.a,{theme:bt,themeMode:u?"dark":"light"},i.a.createElement(ft.a.Consumer,null,(function(t){return i.a.createElement(R.a,{height:{max:"100vh"},style:{transition:"0.25s ease-out"},background:{light:"light-3",dark:"dark-1"},overflow:"auto"},i.a.createElement(Oe,{responsive:t,pending:n,setPending:r}),i.a.createElement(R.a,Object.assign({tag:"main",direction:"column",align:"center",justify:"start"},e),i.a.createElement(f.d,null,i.a.createElement(x,{exact:!0,responsive:t,path:"/login",component:Ee,routeType:"auth"}),i.a.createElement(x,{exact:!0,path:"/",responsive:t,component:dt,pending:n,routeType:"protected"}),i.a.createElement(f.a,{to:"/"}))))})))},vt=a(58),yt=a(115),Ot=a.n(yt),jt=a(43),kt=a(120),wt=a(116),St=a(121),It=a(17),Ct=a(117),xt=a(25),At=D.VERIFY_USER,_t=new kt.a({dataIdFromObject:function(e){return e._id||null}}),$t=Object(Ct.a)((function(e){var t=e.graphQLErrors;t&&t.map((function(e){var t=e.message;return console.log(t)}))})),zt=(window.location.hostname,Object(St.a)({uri:"/graphql",headers:{authorization:localStorage.getItem("auth-token")}})),Tt=function(){var e=Object(l.a)(r.a.mark((function e(){var t,a,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wt.persistCache)({cache:_t,storage:window.localStorage});case 2:t=new jt.c({link:xt.a.from([$t,zt]),cache:_t,onError:function(e){var t=e.networkError,a=e.graphQLErrors;console.log("graphQLErrors",a),console.log("networkError",t)},resolvers:{}}),a=localStorage.getItem("auth-token"),n=localStorage.getItem("userId"),_t.writeData({data:{isLoggedIn:Boolean(a),userId:n}}),a&&t.mutate({mutation:At,variables:{token:a}}).then((function(e){var t=e.data;_t.writeData({data:{isLoggedIn:t.verifyUser.loggedIn,userId:t.verifyUser.id}})})),l=function(){return i.a.createElement(It.a,{client:t},i.a.createElement(vt.a,null,i.a.createElement(ht,null)))},Ot.a.load({google:{families:["Playball","Fira Sans","Noto Sans"]}}),u.a.render(i.a.createElement(l,null),document.getElementById("root")),m();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();document.addEventListener("DOMContentLoaded",(function(e){Tt()}))}},[[128,1,2]]]);
//# sourceMappingURL=main.016479bf.chunk.js.map